const e=require(`./chunk-BwrM4yoD.js`);var t=e.__commonJSMin((exports=>{var t=Object.defineProperty,n=(e,n)=>t(e,`name`,{value:n,configurable:!0}),r=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,`default`)?e.default:e}n(i,`getDefaultExportFromCjs`),exports.commonjsGlobal=r,exports.getDefaultExportFromCjs=i})),n=e.__commonJSMin((exports=>{var r=Object.defineProperty,i=e=>{throw TypeError(e)},a=(e,t)=>r(e,`name`,{value:t,configurable:!0}),o=(e,t,n)=>t.has(e)||i(`Cannot `+n),s=(e,t,n)=>(o(e,t,`read from private field`),n?n.call(e):t.get(e)),c=(e,t,n)=>t.has(e)?i(`Cannot add the same private member more than once`):t instanceof WeakSet?t.add(e):t.set(e,n),l=(e,t,n,r)=>(o(e,t,`write to private field`),r?r.call(e,n):t.set(e,n),n),u,d,f,p,m,h,g,_,v,y,b,x,S;Object.defineProperty(exports,`__esModule`,{value:!0});let C=require(`node:http`),ee=require(`node:https`),te=require(`node:zlib`),w=require(`node:stream`),T=require(`node:buffer`),E=require(`node:util`),ne=t(),re=require(`node:url`),ie=require(`node:net`),D=require(`node:fs`),ae=require(`node:path`);function oe(e){return e&&typeof e==`object`&&`default`in e?e.default:e}a(oe,`_interopDefaultCompat`);let se=oe(C),ce=oe(ee),O=oe(te),k=oe(w);function le(e){if(!/^data:/i.test(e))throw TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,``);let t=e.indexOf(`,`);if(t===-1||t<=4)throw TypeError(`malformed data: URI`);let n=e.substring(5,t).split(`;`),r=``,i=!1,a=n[0]||`text/plain`,o=a;for(let e=1;e<n.length;e++)n[e]===`base64`?i=!0:n[e]&&(o+=`;${n[e]}`,n[e].indexOf(`charset=`)===0&&(r=n[e].substring(8)));!n[0]&&!r.length&&(o+=`;charset=US-ASCII`,r=`US-ASCII`);let s=i?`base64`:`ascii`,c=unescape(e.substring(t+1)),l=Buffer.from(c,s);return l.type=a,l.typeFull=o,l.charset=r,l}a(le,`dataUriToBuffer`);var ue={},de={exports:{}},fe=de.exports,A;function j(){return A||(A=1,function(e,t){(function(e,n){n(t)})(fe,function(e){function t(){}a(t,`noop`);function n(e){return typeof e==`object`&&!!e||typeof e==`function`}a(n,`typeIsObject`);let r=t;function i(e,t){try{Object.defineProperty(e,`name`,{value:t,configurable:!0})}catch{}}a(i,`setFunctionName`);let o=Promise,s=Promise.prototype.then,c=Promise.reject.bind(o);function l(e){return new o(e)}a(l,`newPromise`);function u(e){return l(t=>t(e))}a(u,`promiseResolvedWith`);function d(e){return c(e)}a(d,`promiseRejectedWith`);function f(e,t,n){return s.call(e,t,n)}a(f,`PerformPromiseThen`);function p(e,t,n){f(f(e,t,n),void 0,r)}a(p,`uponPromise`);function m(e,t){p(e,t)}a(m,`uponFulfillment`);function h(e,t){p(e,void 0,t)}a(h,`uponRejection`);function g(e,t,n){return f(e,t,n)}a(g,`transformPromiseWith`);function _(e){f(e,void 0,r)}a(_,`setPromiseIsHandledToTrue`);let v=a(e=>{if(typeof queueMicrotask==`function`)v=queueMicrotask;else{let e=u(void 0);v=a(t=>f(e,t),`_queueMicrotask`)}return v(e)},`_queueMicrotask`);function y(e,t,n){if(typeof e!=`function`)throw TypeError(`Argument is not a function`);return Function.prototype.apply.call(e,t,n)}a(y,`reflectCall`);function b(e,t,n){try{return u(y(e,t,n))}catch(e){return d(e)}}a(b,`promiseCall`);let x=16384,S=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){let t=this._back,n=t;t._elements.length===x-1&&(n={_elements:[],_next:void 0}),t._elements.push(e),n!==t&&(this._back=n,t._next=n),++this._size}shift(){let e=this._front,t=e,n=this._cursor,r=n+1,i=e._elements,a=i[n];return r===x&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),i[n]=void 0,a}forEach(e){let t=this._cursor,n=this._front,r=n._elements;for(;(t!==r.length||n._next!==void 0)&&!(t===r.length&&(n=n._next,r=n._elements,t=0,r.length===0));)e(r[t]),++t}peek(){let e=this._front,t=this._cursor;return e._elements[t]}};a(S,`SimpleQueue`);let C=S,ee=Symbol(`[[AbortSteps]]`),te=Symbol(`[[ErrorSteps]]`),w=Symbol(`[[CancelSteps]]`),T=Symbol(`[[PullSteps]]`),E=Symbol(`[[ReleaseSteps]]`);function re(e,t){e._ownerReadableStream=t,t._reader=e,t._state===`readable`?oe(e):t._state===`closed`?ce(e):se(e,t._storedError)}a(re,`ReadableStreamReaderGenericInitialize`);function ie(e,t){let n=e._ownerReadableStream;return $(n,t)}a(ie,`ReadableStreamReaderGenericCancel`);function D(e){let t=e._ownerReadableStream;t._state===`readable`?O(e,TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`)):k(e,TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`)),t._readableStreamController[E](),t._reader=void 0,e._ownerReadableStream=void 0}a(D,`ReadableStreamReaderGenericRelease`);function ae(e){return TypeError(`Cannot `+e+` a stream using a released reader`)}a(ae,`readerLockException`);function oe(e){e._closedPromise=l((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n})}a(oe,`defaultReaderClosedPromiseInitialize`);function se(e,t){oe(e),O(e,t)}a(se,`defaultReaderClosedPromiseInitializeAsRejected`);function ce(e){oe(e),le(e)}a(ce,`defaultReaderClosedPromiseInitializeAsResolved`);function O(e,t){e._closedPromise_reject!==void 0&&(_(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}a(O,`defaultReaderClosedPromiseReject`);function k(e,t){se(e,t)}a(k,`defaultReaderClosedPromiseResetToRejected`);function le(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}a(le,`defaultReaderClosedPromiseResolve`);let ue=Number.isFinite||function(e){return typeof e==`number`&&isFinite(e)},de=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function fe(e){return typeof e==`object`||typeof e==`function`}a(fe,`isDictionary`);function A(e,t){if(e!==void 0&&!fe(e))throw TypeError(`${t} is not an object.`)}a(A,`assertDictionary`);function j(e,t){if(typeof e!=`function`)throw TypeError(`${t} is not a function.`)}a(j,`assertFunction`);function pe(e){return typeof e==`object`&&!!e||typeof e==`function`}a(pe,`isObject`);function me(e,t){if(!pe(e))throw TypeError(`${t} is not an object.`)}a(me,`assertObject`);function M(e,t,n){if(e===void 0)throw TypeError(`Parameter ${t} is required in '${n}'.`)}a(M,`assertRequiredArgument`);function he(e,t,n){if(e===void 0)throw TypeError(`${t} is required in '${n}'.`)}a(he,`assertRequiredField`);function ge(e){return Number(e)}a(ge,`convertUnrestrictedDouble`);function _e(e){return e===0?0:e}a(_e,`censorNegativeZero`);function ve(e){return _e(de(e))}a(ve,`integerPart`);function ye(e,t){let n=9007199254740991,r=Number(e);if(r=_e(r),!ue(r))throw TypeError(`${t} is not a finite number`);if(r=ve(r),r<0||r>n)throw TypeError(`${t} is outside the accepted range of 0 to ${n}, inclusive`);return!ue(r)||r===0?0:r}a(ye,`convertUnsignedLongLongWithEnforceRange`);function be(e,t){if(!ci(e))throw TypeError(`${t} is not a ReadableStream.`)}a(be,`assertReadableStream`);function xe(e){return new N(e)}a(xe,`AcquireReadableStreamDefaultReader`);function Se(e,t){e._reader._readRequests.push(t)}a(Se,`ReadableStreamAddReadRequest`);function Ce(e,t,n){let r=e._reader._readRequests.shift();n?r._closeSteps():r._chunkSteps(t)}a(Ce,`ReadableStreamFulfillReadRequest`);function we(e){return e._reader._readRequests.length}a(we,`ReadableStreamGetNumReadRequests`);function Te(e){let t=e._reader;return!(t===void 0||!P(t))}a(Te,`ReadableStreamHasDefaultReader`);let Ee=class{constructor(e){if(M(e,1,`ReadableStreamDefaultReader`),be(e,`First parameter`),li(e))throw TypeError(`This stream has already been locked for exclusive reading by another reader`);re(this,e),this._readRequests=new C}get closed(){return P(this)?this._closedPromise:d(Ae(`closed`))}cancel(e=void 0){return P(this)?this._ownerReadableStream===void 0?d(ae(`cancel`)):ie(this,e):d(Ae(`cancel`))}read(){if(!P(this))return d(Ae(`read`));if(this._ownerReadableStream===void 0)return d(ae(`read from`));let e,t,n=l((n,r)=>{e=n,t=r});return De(this,{_chunkSteps:a(t=>e({value:t,done:!1}),`_chunkSteps`),_closeSteps:a(()=>e({value:void 0,done:!0}),`_closeSteps`),_errorSteps:a(e=>t(e),`_errorSteps`)}),n}releaseLock(){if(!P(this))throw Ae(`releaseLock`);this._ownerReadableStream!==void 0&&Oe(this)}};a(Ee,`ReadableStreamDefaultReader`);let N=Ee;Object.defineProperties(N.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(N.prototype.cancel,`cancel`),i(N.prototype.read,`read`),i(N.prototype.releaseLock,`releaseLock`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(N.prototype,Symbol.toStringTag,{value:`ReadableStreamDefaultReader`,configurable:!0});function P(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_readRequests`)?!1:e instanceof N}a(P,`IsReadableStreamDefaultReader`);function De(e,t){let n=e._ownerReadableStream;n._disturbed=!0,n._state===`closed`?t._closeSteps():n._state===`errored`?t._errorSteps(n._storedError):n._readableStreamController[T](t)}a(De,`ReadableStreamDefaultReaderRead`);function Oe(e){D(e);let t=TypeError(`Reader was released`);ke(e,t)}a(Oe,`ReadableStreamDefaultReaderRelease`);function ke(e,t){let n=e._readRequests;e._readRequests=new C,n.forEach(e=>{e._errorSteps(t)})}a(ke,`ReadableStreamDefaultReaderErrorReadRequests`);function Ae(e){return TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}a(Ae,`defaultReaderBrandCheckException`);let F=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype),je=class{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){let e=a(()=>this._nextSteps(),`nextSteps`);return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){let t=a(()=>this._returnSteps(e),`returnSteps`);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let e=this._reader,t,n,r=l((e,r)=>{t=e,n=r});return De(e,{_chunkSteps:a(e=>{this._ongoingPromise=void 0,v(()=>t({value:e,done:!1}))},`_chunkSteps`),_closeSteps:a(()=>{this._ongoingPromise=void 0,this._isFinished=!0,D(e),t({value:void 0,done:!0})},`_closeSteps`),_errorSteps:a(t=>{this._ongoingPromise=void 0,this._isFinished=!0,D(e),n(t)},`_errorSteps`)}),r}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;let t=this._reader;if(!this._preventCancel){let n=ie(t,e);return D(t),g(n,()=>({value:e,done:!0}))}return D(t),u({value:e,done:!0})}};a(je,`ReadableStreamAsyncIteratorImpl`);let Me=je,Ne={next(){return Fe(this)?this._asyncIteratorImpl.next():d(Ie(`next`))},return(e){return Fe(this)?this._asyncIteratorImpl.return(e):d(Ie(`return`))}};Object.setPrototypeOf(Ne,F);function Pe(e,t){let n=xe(e),r=new Me(n,t),i=Object.create(Ne);return i._asyncIteratorImpl=r,i}a(Pe,`AcquireReadableStreamAsyncIterator`);function Fe(e){if(!n(e)||!Object.prototype.hasOwnProperty.call(e,`_asyncIteratorImpl`))return!1;try{return e._asyncIteratorImpl instanceof Me}catch{return!1}}a(Fe,`IsReadableStreamAsyncIterator`);function Ie(e){return TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}a(Ie,`streamAsyncIteratorBrandCheckException`);let Le=Number.isNaN||function(e){return e!==e};var I,Re,ze;function L(e){return e.slice()}a(L,`CreateArrayFromList`);function Be(e,t,n,r,i){new Uint8Array(e).set(new Uint8Array(n,r,i),t)}a(Be,`CopyDataBlockBytes`);let Ve=a(e=>(Ve=typeof e.transfer==`function`?a(e=>e.transfer(),`TransferArrayBuffer`):a(typeof structuredClone==`function`?e=>structuredClone(e,{transfer:[e]}):e=>e,`TransferArrayBuffer`),Ve(e)),`TransferArrayBuffer`),He=a(e=>(He=typeof e.detached==`boolean`?a(e=>e.detached,`IsDetachedBuffer`):a(e=>e.byteLength===0,`IsDetachedBuffer`),He(e)),`IsDetachedBuffer`);function Ue(e,t,n){if(e.slice)return e.slice(t,n);let r=n-t,i=new ArrayBuffer(r);return Be(i,0,e,t,r),i}a(Ue,`ArrayBufferSlice`);function We(e,t){let n=e[t];if(n!=null){if(typeof n!=`function`)throw TypeError(`${String(t)} is not a function`);return n}}a(We,`GetMethod`);function Ge(e){let t={[Symbol.iterator]:()=>e.iterator},n=async function*(){return yield*t}(),r=n.next;return{iterator:n,nextMethod:r,done:!1}}a(Ge,`CreateAsyncFromSyncIterator`);let Ke=(ze=(I=Symbol.asyncIterator)==null?(Re=Symbol.for)==null?void 0:Re.call(Symbol,`Symbol.asyncIterator`):I)==null?`@@asyncIterator`:ze;function qe(e,t=`sync`,r){if(r===void 0)if(t===`async`){if(r=We(e,Ke),r===void 0){let t=We(e,Symbol.iterator),n=qe(e,`sync`,t);return Ge(n)}}else r=We(e,Symbol.iterator);if(r===void 0)throw TypeError(`The object is not iterable`);let i=y(r,e,[]);if(!n(i))throw TypeError(`The iterator method must return an object`);let a=i.next;return{iterator:i,nextMethod:a,done:!1}}a(qe,`GetIterator`);function R(e){let t=y(e.nextMethod,e.iterator,[]);if(!n(t))throw TypeError(`The iterator.next() method must return an object`);return t}a(R,`IteratorNext`);function Je(e){return!!e.done}a(Je,`IteratorComplete`);function Ye(e){return e.value}a(Ye,`IteratorValue`);function Xe(e){return!(typeof e!=`number`||Le(e)||e<0)}a(Xe,`IsNonNegativeNumber`);function z(e){let t=Ue(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}a(z,`CloneAsUint8Array`);function Ze(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}a(Ze,`DequeueValue`);function B(e,t,n){if(!Xe(n)||n===1/0)throw RangeError(`Size must be a finite, non-NaN, non-negative number.`);e._queue.push({value:t,size:n}),e._queueTotalSize+=n}a(B,`EnqueueValueWithSize`);function Qe(e){return e._queue.peek().value}a(Qe,`PeekQueueValue`);function V(e){e._queue=new C,e._queueTotalSize=0}a(V,`ResetQueue`);function $e(e){return e===DataView}a($e,`isDataViewConstructor`);function et(e){return $e(e.constructor)}a(et,`isDataView`);function tt(e){return $e(e)?1:e.BYTES_PER_ELEMENT}a(tt,`arrayBufferViewElementSize`);let nt=class{constructor(){throw TypeError(`Illegal constructor`)}get view(){if(!at(this))throw Nt(`view`);return this._view}respond(e){if(!at(this))throw Nt(`respond`);if(M(e,1,`respond`),e=ye(e,`First parameter`),this._associatedReadableByteStreamController===void 0)throw TypeError(`This BYOB request has been invalidated`);if(He(this._view.buffer))throw TypeError(`The BYOB request's buffer has been detached and so cannot be used as a response`);q(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!at(this))throw Nt(`respondWithNewView`);if(M(e,1,`respondWithNewView`),!ArrayBuffer.isView(e))throw TypeError(`You can only respond with array buffer views`);if(this._associatedReadableByteStreamController===void 0)throw TypeError(`This BYOB request has been invalidated`);if(He(e.buffer))throw TypeError(`The given view's buffer has been detached and so cannot be used as a response`);kt(this._associatedReadableByteStreamController,e)}};a(nt,`ReadableStreamBYOBRequest`);let rt=nt;Object.defineProperties(rt.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(rt.prototype.respond,`respond`),i(rt.prototype.respondWithNewView,`respondWithNewView`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(rt.prototype,Symbol.toStringTag,{value:`ReadableStreamBYOBRequest`,configurable:!0});let it=class{constructor(){throw TypeError(`Illegal constructor`)}get byobRequest(){if(!U(this))throw Pt(`byobRequest`);return K(this)}get desiredSize(){if(!U(this))throw Pt(`desiredSize`);return Ot(this)}close(){if(!U(this))throw Pt(`close`);if(this._closeRequested)throw TypeError(`The stream has already been closed; do not close it again!`);let e=this._controlledReadableByteStream._state;if(e!==`readable`)throw TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Tt(this)}enqueue(e){if(!U(this))throw Pt(`enqueue`);if(M(e,1,`enqueue`),!ArrayBuffer.isView(e))throw TypeError(`chunk must be an array buffer view`);if(e.byteLength===0)throw TypeError(`chunk must have non-zero byteLength`);if(e.buffer.byteLength===0)throw TypeError(`chunk's buffer must have non-zero byteLength`);if(this._closeRequested)throw TypeError(`stream is closed or draining`);let t=this._controlledReadableByteStream._state;if(t!==`readable`)throw TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);Et(this,e)}error(e=void 0){if(!U(this))throw Pt(`error`);G(this,e)}[w](e){ot(this),V(this);let t=this._cancelAlgorithm(e);return wt(this),t}[T](e){let t=this._controlledReadableByteStream;if(this._queueTotalSize>0){Dt(this,e);return}let n=this._autoAllocateChunkSize;if(n!==void 0){let t;try{t=new ArrayBuffer(n)}catch(t){e._errorSteps(t);return}let r={buffer:t,bufferByteLength:n,byteOffset:0,byteLength:n,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:`default`};this._pendingPullIntos.push(r)}Se(t,e),W(this)}[E](){if(this._pendingPullIntos.length>0){let e=this._pendingPullIntos.peek();e.readerType=`none`,this._pendingPullIntos=new C,this._pendingPullIntos.push(e)}}};a(it,`ReadableByteStreamController`);let H=it;Object.defineProperties(H.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(H.prototype.close,`close`),i(H.prototype.enqueue,`enqueue`),i(H.prototype.error,`error`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(H.prototype,Symbol.toStringTag,{value:`ReadableByteStreamController`,configurable:!0});function U(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_controlledReadableByteStream`)?!1:e instanceof H}a(U,`IsReadableByteStreamController`);function at(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_associatedReadableByteStreamController`)?!1:e instanceof rt}a(at,`IsReadableStreamBYOBRequest`);function W(e){if(!Ct(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let t=e._pullAlgorithm();p(t,()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,W(e)),null),t=>(G(e,t),null))}a(W,`ReadableByteStreamControllerCallPullIfNeeded`);function ot(e){ht(e),e._pendingPullIntos=new C}a(ot,`ReadableByteStreamControllerClearPendingPullIntos`);function st(e,t){let n=!1;e._state===`closed`&&(n=!0);let r=ct(t);t.readerType===`default`?Ce(e,r,n):Bt(e,r,n)}a(st,`ReadableByteStreamControllerCommitPullIntoDescriptor`);function ct(e){let t=e.bytesFilled,n=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/n)}a(ct,`ReadableByteStreamControllerConvertPullIntoDescriptor`);function lt(e,t,n,r){e._queue.push({buffer:t,byteOffset:n,byteLength:r}),e._queueTotalSize+=r}a(lt,`ReadableByteStreamControllerEnqueueChunkToQueue`);function ut(e,t,n,r){let i;try{i=Ue(t,n,n+r)}catch(t){throw G(e,t),t}lt(e,i,0,r)}a(ut,`ReadableByteStreamControllerEnqueueClonedChunkToQueue`);function dt(e,t){t.bytesFilled>0&&ut(e,t.buffer,t.byteOffset,t.bytesFilled),St(e)}a(dt,`ReadableByteStreamControllerEnqueueDetachedPullIntoToQueue`);function ft(e,t){let n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+n,i=n,a=!1,o=r%t.elementSize,s=r-o;s>=t.minimumFill&&(i=s-t.bytesFilled,a=!0);let c=e._queue;for(;i>0;){let n=c.peek(),r=Math.min(i,n.byteLength),a=t.byteOffset+t.bytesFilled;Be(t.buffer,a,n.buffer,n.byteOffset,r),n.byteLength===r?c.shift():(n.byteOffset+=r,n.byteLength-=r),e._queueTotalSize-=r,pt(e,r,t),i-=r}return a}a(ft,`ReadableByteStreamControllerFillPullIntoDescriptorFromQueue`);function pt(e,t,n){n.bytesFilled+=t}a(pt,`ReadableByteStreamControllerFillHeadPullIntoDescriptor`);function mt(e){e._queueTotalSize===0&&e._closeRequested?(wt(e),ui(e._controlledReadableByteStream)):W(e)}a(mt,`ReadableByteStreamControllerHandleQueueDrain`);function ht(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}a(ht,`ReadableByteStreamControllerInvalidateBYOBRequest`);function gt(e){for(;e._pendingPullIntos.length>0;){if(e._queueTotalSize===0)return;let t=e._pendingPullIntos.peek();ft(e,t)&&(St(e),st(e._controlledReadableByteStream,t))}}a(gt,`ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue`);function _t(e){let t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(e._queueTotalSize===0)return;let n=t._readRequests.shift();Dt(e,n)}}a(_t,`ReadableByteStreamControllerProcessReadRequestsUsingQueue`);function vt(e,t,n,r){let i=e._controlledReadableByteStream,a=t.constructor,o=tt(a),{byteOffset:s,byteLength:c}=t,l=n*o,u;try{u=Ve(t.buffer)}catch(e){r._errorSteps(e);return}let d={buffer:u,bufferByteLength:u.byteLength,byteOffset:s,byteLength:c,bytesFilled:0,minimumFill:l,elementSize:o,viewConstructor:a,readerType:`byob`};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(d),zt(i,r);return}if(i._state===`closed`){let e=new a(d.buffer,d.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(ft(e,d)){let t=ct(d);mt(e),r._chunkSteps(t);return}if(e._closeRequested){let t=TypeError(`Insufficient bytes to fill elements in the given buffer`);G(e,t),r._errorSteps(t);return}}e._pendingPullIntos.push(d),zt(i,r),W(e)}a(vt,`ReadableByteStreamControllerPullInto`);function yt(e,t){t.readerType===`none`&&St(e);let n=e._controlledReadableByteStream;if(Ht(n))for(;Vt(n)>0;){let t=St(e);st(n,t)}}a(yt,`ReadableByteStreamControllerRespondInClosedState`);function bt(e,t,n){if(pt(e,t,n),n.readerType===`none`){dt(e,n),gt(e);return}if(n.bytesFilled<n.minimumFill)return;St(e);let r=n.bytesFilled%n.elementSize;if(r>0){let t=n.byteOffset+n.bytesFilled;ut(e,n.buffer,t-r,r)}n.bytesFilled-=r,st(e._controlledReadableByteStream,n),gt(e)}a(bt,`ReadableByteStreamControllerRespondInReadableState`);function xt(e,t){let n=e._pendingPullIntos.peek();ht(e),e._controlledReadableByteStream._state===`closed`?yt(e,n):bt(e,t,n),W(e)}a(xt,`ReadableByteStreamControllerRespondInternal`);function St(e){return e._pendingPullIntos.shift()}a(St,`ReadableByteStreamControllerShiftPendingPullInto`);function Ct(e){let t=e._controlledReadableByteStream;return t._state!==`readable`||e._closeRequested||!e._started?!1:!!(Te(t)&&we(t)>0||Ht(t)&&Vt(t)>0||Ot(e)>0)}a(Ct,`ReadableByteStreamControllerShouldCallPull`);function wt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}a(wt,`ReadableByteStreamControllerClearAlgorithms`);function Tt(e){let t=e._controlledReadableByteStream;if(!(e._closeRequested||t._state!==`readable`)){if(e._queueTotalSize>0){e._closeRequested=!0;return}if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!==0){let t=TypeError(`Insufficient bytes to fill elements in the given buffer`);throw G(e,t),t}}wt(e),ui(t)}}a(Tt,`ReadableByteStreamControllerClose`);function Et(e,t){let n=e._controlledReadableByteStream;if(e._closeRequested||n._state!==`readable`)return;let{buffer:r,byteOffset:i,byteLength:a}=t;if(He(r))throw TypeError(`chunk's buffer is detached and so cannot be enqueued`);let o=Ve(r);if(e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek();if(He(t.buffer))throw TypeError(`The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk`);ht(e),t.buffer=Ve(t.buffer),t.readerType===`none`&&dt(e,t)}if(Te(n))if(_t(e),we(n)===0)lt(e,o,i,a);else{e._pendingPullIntos.length>0&&St(e);let t=new Uint8Array(o,i,a);Ce(n,t,!1)}else Ht(n)?(lt(e,o,i,a),gt(e)):lt(e,o,i,a);W(e)}a(Et,`ReadableByteStreamControllerEnqueue`);function G(e,t){let n=e._controlledReadableByteStream;n._state===`readable`&&(ot(e),V(e),wt(e),di(n,t))}a(G,`ReadableByteStreamControllerError`);function Dt(e,t){let n=e._queue.shift();e._queueTotalSize-=n.byteLength,mt(e);let r=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);t._chunkSteps(r)}a(Dt,`ReadableByteStreamControllerFillReadRequestFromQueue`);function K(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),n=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(rt.prototype);Mt(r,e,n),e._byobRequest=r}return e._byobRequest}a(K,`ReadableByteStreamControllerGetBYOBRequest`);function Ot(e){let t=e._controlledReadableByteStream._state;return t===`errored`?null:t===`closed`?0:e._strategyHWM-e._queueTotalSize}a(Ot,`ReadableByteStreamControllerGetDesiredSize`);function q(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state===`closed`){if(t!==0)throw TypeError(`bytesWritten must be 0 when calling respond() on a closed stream`)}else{if(t===0)throw TypeError(`bytesWritten must be greater than 0 when calling respond() on a readable stream`);if(n.bytesFilled+t>n.byteLength)throw RangeError(`bytesWritten out of range`)}n.buffer=Ve(n.buffer),xt(e,t)}a(q,`ReadableByteStreamControllerRespond`);function kt(e,t){let n=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state===`closed`){if(t.byteLength!==0)throw TypeError(`The view's length must be 0 when calling respondWithNewView() on a closed stream`)}else if(t.byteLength===0)throw TypeError(`The view's length must be greater than 0 when calling respondWithNewView() on a readable stream`);if(n.byteOffset+n.bytesFilled!==t.byteOffset)throw RangeError(`The region specified by view does not match byobRequest`);if(n.bufferByteLength!==t.buffer.byteLength)throw RangeError(`The buffer of view has different capacity than byobRequest`);if(n.bytesFilled+t.byteLength>n.byteLength)throw RangeError(`The region specified by view is larger than byobRequest`);let r=t.byteLength;n.buffer=Ve(t.buffer),xt(e,r)}a(kt,`ReadableByteStreamControllerRespondWithNewView`);function At(e,t,n,r,i,a,o){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,V(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=r,t._cancelAlgorithm=i,t._autoAllocateChunkSize=o,t._pendingPullIntos=new C,e._readableStreamController=t;let s=n();p(u(s),()=>(t._started=!0,W(t),null),e=>(G(t,e),null))}a(At,`SetUpReadableByteStreamController`);function jt(e,t,n){let r=Object.create(H.prototype),i,o,s;i=t.start===void 0?a(()=>{},`startAlgorithm`):a(()=>t.start(r),`startAlgorithm`),o=t.pull===void 0?a(()=>u(void 0),`pullAlgorithm`):a(()=>t.pull(r),`pullAlgorithm`),s=t.cancel===void 0?a(()=>u(void 0),`cancelAlgorithm`):a(e=>t.cancel(e),`cancelAlgorithm`);let c=t.autoAllocateChunkSize;if(c===0)throw TypeError(`autoAllocateChunkSize must be greater than 0`);At(e,r,i,o,s,n,c)}a(jt,`SetUpReadableByteStreamControllerFromUnderlyingSource`);function Mt(e,t,n){e._associatedReadableByteStreamController=t,e._view=n}a(Mt,`SetUpReadableStreamBYOBRequest`);function Nt(e){return TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}a(Nt,`byobRequestBrandCheckException`);function Pt(e){return TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}a(Pt,`byteStreamControllerBrandCheckException`);function Ft(e,t){A(e,t);let n=e?.mode;return{mode:n===void 0?void 0:It(n,`${t} has member 'mode' that`)}}a(Ft,`convertReaderOptions`);function It(e,t){if(e=`${e}`,e!==`byob`)throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}a(It,`convertReadableStreamReaderMode`);function Lt(e,t){var n;A(e,t);let r=(n=e?.min)==null?1:n;return{min:ye(r,`${t} has member 'min' that`)}}a(Lt,`convertByobReadOptions`);function Rt(e){return new J(e)}a(Rt,`AcquireReadableStreamBYOBReader`);function zt(e,t){e._reader._readIntoRequests.push(t)}a(zt,`ReadableStreamAddReadIntoRequest`);function Bt(e,t,n){let r=e._reader._readIntoRequests.shift();n?r._closeSteps(t):r._chunkSteps(t)}a(Bt,`ReadableStreamFulfillReadIntoRequest`);function Vt(e){return e._reader._readIntoRequests.length}a(Vt,`ReadableStreamGetNumReadIntoRequests`);function Ht(e){let t=e._reader;return!(t===void 0||!Y(t))}a(Ht,`ReadableStreamHasBYOBReader`);let Ut=class{constructor(e){if(M(e,1,`ReadableStreamBYOBReader`),be(e,`First parameter`),li(e))throw TypeError(`This stream has already been locked for exclusive reading by another reader`);if(!U(e._readableStreamController))throw TypeError(`Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source`);re(this,e),this._readIntoRequests=new C}get closed(){return Y(this)?this._closedPromise:d(qt(`closed`))}cancel(e=void 0){return Y(this)?this._ownerReadableStream===void 0?d(ae(`cancel`)):ie(this,e):d(qt(`cancel`))}read(e,t={}){if(!Y(this))return d(qt(`read`));if(!ArrayBuffer.isView(e))return d(TypeError(`view must be an array buffer view`));if(e.byteLength===0)return d(TypeError(`view must have non-zero byteLength`));if(e.buffer.byteLength===0)return d(TypeError(`view's buffer must have non-zero byteLength`));if(He(e.buffer))return d(TypeError(`view's buffer has been detached`));let n;try{n=Lt(t,`options`)}catch(e){return d(e)}let r=n.min;if(r===0)return d(TypeError(`options.min must be greater than 0`));if(et(e)){if(r>e.byteLength)return d(RangeError(`options.min must be less than or equal to view's byteLength`))}else if(r>e.length)return d(RangeError(`options.min must be less than or equal to view's length`));if(this._ownerReadableStream===void 0)return d(ae(`read from`));let i,o,s=l((e,t)=>{i=e,o=t});return Wt(this,e,r,{_chunkSteps:a(e=>i({value:e,done:!1}),`_chunkSteps`),_closeSteps:a(e=>i({value:e,done:!0}),`_closeSteps`),_errorSteps:a(e=>o(e),`_errorSteps`)}),s}releaseLock(){if(!Y(this))throw qt(`releaseLock`);this._ownerReadableStream!==void 0&&Gt(this)}};a(Ut,`ReadableStreamBYOBReader`);let J=Ut;Object.defineProperties(J.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(J.prototype.cancel,`cancel`),i(J.prototype.read,`read`),i(J.prototype.releaseLock,`releaseLock`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:`ReadableStreamBYOBReader`,configurable:!0});function Y(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_readIntoRequests`)?!1:e instanceof J}a(Y,`IsReadableStreamBYOBReader`);function Wt(e,t,n,r){let i=e._ownerReadableStream;i._disturbed=!0,i._state===`errored`?r._errorSteps(i._storedError):vt(i._readableStreamController,t,n,r)}a(Wt,`ReadableStreamBYOBReaderRead`);function Gt(e){D(e);let t=TypeError(`Reader was released`);Kt(e,t)}a(Gt,`ReadableStreamBYOBReaderRelease`);function Kt(e,t){let n=e._readIntoRequests;e._readIntoRequests=new C,n.forEach(e=>{e._errorSteps(t)})}a(Kt,`ReadableStreamBYOBReaderErrorReadIntoRequests`);function qt(e){return TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}a(qt,`byobReaderBrandCheckException`);function Jt(e,t){let{highWaterMark:n}=e;if(n===void 0)return t;if(Le(n)||n<0)throw RangeError(`Invalid highWaterMark`);return n}a(Jt,`ExtractHighWaterMark`);function Yt(e){let{size:t}=e;return t||(()=>1)}a(Yt,`ExtractSizeAlgorithm`);function Xt(e,t){A(e,t);let n=e?.highWaterMark,r=e?.size;return{highWaterMark:n===void 0?void 0:ge(n),size:r===void 0?void 0:Zt(r,`${t} has member 'size' that`)}}a(Xt,`convertQueuingStrategy`);function Zt(e,t){return j(e,t),t=>ge(e(t))}a(Zt,`convertQueuingStrategySize`);function Qt(e,t){A(e,t);let n=e?.abort,r=e?.close,i=e?.start,a=e?.type,o=e?.write;return{abort:n===void 0?void 0:$t(n,e,`${t} has member 'abort' that`),close:r===void 0?void 0:en(r,e,`${t} has member 'close' that`),start:i===void 0?void 0:tn(i,e,`${t} has member 'start' that`),write:o===void 0?void 0:nn(o,e,`${t} has member 'write' that`),type:a}}a(Qt,`convertUnderlyingSink`);function $t(e,t,n){return j(e,n),n=>b(e,t,[n])}a($t,`convertUnderlyingSinkAbortCallback`);function en(e,t,n){return j(e,n),()=>b(e,t,[])}a(en,`convertUnderlyingSinkCloseCallback`);function tn(e,t,n){return j(e,n),n=>y(e,t,[n])}a(tn,`convertUnderlyingSinkStartCallback`);function nn(e,t,n){return j(e,n),(n,r)=>b(e,t,[n,r])}a(nn,`convertUnderlyingSinkWriteCallback`);function rn(e,t){if(!pn(e))throw TypeError(`${t} is not a WritableStream.`)}a(rn,`assertWritableStream`);function an(e){if(typeof e!=`object`||!e)return!1;try{return typeof e.aborted==`boolean`}catch{return!1}}a(an,`isAbortSignal`);let on=typeof AbortController==`function`;function sn(){if(on)return new AbortController}a(sn,`createAbortController`);let cn=class{constructor(e={},t={}){e===void 0?e=null:me(e,`First parameter`);let n=Xt(t,`Second parameter`),r=Qt(e,`First parameter`);if(fn(this),r.type!==void 0)throw RangeError(`Invalid type is specified`);let i=Yt(n),a=Jt(n,1);Kn(this,r,a,i)}get locked(){if(!pn(this))throw ir(`locked`);return mn(this)}abort(e=void 0){return pn(this)?mn(this)?d(TypeError(`Cannot abort a stream that already has a writer`)):hn(this,e):d(ir(`abort`))}close(){return pn(this)?mn(this)?d(TypeError(`Cannot close a stream that already has a writer`)):X(this)?d(TypeError(`Cannot close an already-closing stream`)):gn(this):d(ir(`close`))}getWriter(){if(!pn(this))throw ir(`getWriter`);return un(this)}};a(cn,`WritableStream`);let ln=cn;Object.defineProperties(ln.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(ln.prototype.abort,`abort`),i(ln.prototype.close,`close`),i(ln.prototype.getWriter,`getWriter`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(ln.prototype,Symbol.toStringTag,{value:`WritableStream`,configurable:!0});function un(e){return new jn(e)}a(un,`AcquireWritableStreamDefaultWriter`);function dn(e,t,n,r,i=1,a=()=>1){let o=Object.create(ln.prototype);fn(o);let s=Object.create(Un.prototype);return Gn(o,s,e,t,n,r,i,a),o}a(dn,`CreateWritableStream`);function fn(e){e._state=`writable`,e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new C,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}a(fn,`InitializeWritableStream`);function pn(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_writableStreamController`)?!1:e instanceof ln}a(pn,`IsWritableStream`);function mn(e){return e._writer!==void 0}a(mn,`IsWritableStreamLocked`);function hn(e,t){var n;if(e._state===`closed`||e._state===`errored`)return u(void 0);e._writableStreamController._abortReason=t,(n=e._writableStreamController._abortController)==null||n.abort(t);let r=e._state;if(r===`closed`||r===`errored`)return u(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let i=!1;r===`erroring`&&(i=!0,t=void 0);let a=l((n,r)=>{e._pendingAbortRequest={_promise:void 0,_resolve:n,_reject:r,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=a,i||yn(e,t),a}a(hn,`WritableStreamAbort`);function gn(e){let t=e._state;if(t===`closed`||t===`errored`)return d(TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let n=l((t,n)=>{let r={_resolve:t,_reject:n};e._closeRequest=r}),r=e._writer;return r!==void 0&&e._backpressure&&t===`writable`&&br(r),Jn(e._writableStreamController),n}a(gn,`WritableStreamClose`);function _n(e){return l((t,n)=>{let r={_resolve:t,_reject:n};e._writeRequests.push(r)})}a(_n,`WritableStreamAddWriteRequest`);function vn(e,t){if(e._state===`writable`){yn(e,t);return}bn(e)}a(vn,`WritableStreamDealWithRejection`);function yn(e,t){let n=e._writableStreamController;e._state=`erroring`,e._storedError=t;let r=e._writer;r!==void 0&&Ln(r,t),!Tn(e)&&n._started&&bn(e)}a(yn,`WritableStreamStartErroring`);function bn(e){e._state=`errored`,e._writableStreamController[te]();let t=e._storedError;if(e._writeRequests.forEach(e=>{e._reject(t)}),e._writeRequests=new C,e._pendingAbortRequest===void 0){On(e);return}let n=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,n._wasAlreadyErroring){n._reject(t),On(e);return}let r=e._writableStreamController[ee](n._reason);p(r,()=>(n._resolve(),On(e),null),t=>(n._reject(t),On(e),null))}a(bn,`WritableStreamFinishErroring`);function xn(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}a(xn,`WritableStreamFinishInFlightWrite`);function Sn(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,vn(e,t)}a(Sn,`WritableStreamFinishInFlightWriteWithError`);function Cn(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,e._state===`erroring`&&(e._storedError=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state=`closed`;let t=e._writer;t!==void 0&&pr(t)}a(Cn,`WritableStreamFinishInFlightClose`);function wn(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,e._pendingAbortRequest!==void 0&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),vn(e,t)}a(wn,`WritableStreamFinishInFlightCloseWithError`);function X(e){return!(e._closeRequest===void 0&&e._inFlightCloseRequest===void 0)}a(X,`WritableStreamCloseQueuedOrInFlight`);function Tn(e){return!(e._inFlightWriteRequest===void 0&&e._inFlightCloseRequest===void 0)}a(Tn,`WritableStreamHasOperationMarkedInFlight`);function En(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0}a(En,`WritableStreamMarkCloseRequestInFlight`);function Dn(e){e._inFlightWriteRequest=e._writeRequests.shift()}a(Dn,`WritableStreamMarkFirstWriteRequestInFlight`);function On(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&dr(t,e._storedError)}a(On,`WritableStreamRejectCloseAndClosedPromiseIfNeeded`);function kn(e,t){let n=e._writer;n!==void 0&&t!==e._backpressure&&(t?vr(n):br(n)),e._backpressure=t}a(kn,`WritableStreamUpdateBackpressure`);let An=class{constructor(e){if(M(e,1,`WritableStreamDefaultWriter`),rn(e,`First parameter`),mn(e))throw TypeError(`This stream has already been locked for exclusive writing by another writer`);this._ownerWritableStream=e,e._writer=this;let t=e._state;if(t===`writable`)!X(e)&&e._backpressure?mr(this):gr(this),cr(this);else if(t===`erroring`)hr(this,e._storedError),cr(this);else if(t===`closed`)gr(this),ur(this);else{let t=e._storedError;hr(this,t),lr(this,t)}}get closed(){return Mn(this)?this._closedPromise:d(or(`closed`))}get desiredSize(){if(!Mn(this))throw or(`desiredSize`);if(this._ownerWritableStream===void 0)throw sr(`desiredSize`);return Rn(this)}get ready(){return Mn(this)?this._readyPromise:d(or(`ready`))}abort(e=void 0){return Mn(this)?this._ownerWritableStream===void 0?d(sr(`abort`)):Nn(this,e):d(or(`abort`))}close(){if(!Mn(this))return d(or(`close`));let e=this._ownerWritableStream;return e===void 0?d(sr(`close`)):X(e)?d(TypeError(`Cannot close an already-closing stream`)):Pn(this)}releaseLock(){if(!Mn(this))throw or(`releaseLock`);this._ownerWritableStream!==void 0&&zn(this)}write(e=void 0){return Mn(this)?this._ownerWritableStream===void 0?d(sr(`write to`)):Bn(this,e):d(or(`write`))}};a(An,`WritableStreamDefaultWriter`);let jn=An;Object.defineProperties(jn.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(jn.prototype.abort,`abort`),i(jn.prototype.close,`close`),i(jn.prototype.releaseLock,`releaseLock`),i(jn.prototype.write,`write`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(jn.prototype,Symbol.toStringTag,{value:`WritableStreamDefaultWriter`,configurable:!0});function Mn(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_ownerWritableStream`)?!1:e instanceof jn}a(Mn,`IsWritableStreamDefaultWriter`);function Nn(e,t){let n=e._ownerWritableStream;return hn(n,t)}a(Nn,`WritableStreamDefaultWriterAbort`);function Pn(e){let t=e._ownerWritableStream;return gn(t)}a(Pn,`WritableStreamDefaultWriterClose`);function Fn(e){let t=e._ownerWritableStream,n=t._state;return X(t)||n===`closed`?u(void 0):n===`errored`?d(t._storedError):Pn(e)}a(Fn,`WritableStreamDefaultWriterCloseWithErrorPropagation`);function In(e,t){e._closedPromiseState===`pending`?dr(e,t):fr(e,t)}a(In,`WritableStreamDefaultWriterEnsureClosedPromiseRejected`);function Ln(e,t){e._readyPromiseState===`pending`?_r(e,t):yr(e,t)}a(Ln,`WritableStreamDefaultWriterEnsureReadyPromiseRejected`);function Rn(e){let t=e._ownerWritableStream,n=t._state;return n===`errored`||n===`erroring`?null:n===`closed`?0:Xn(t._writableStreamController)}a(Rn,`WritableStreamDefaultWriterGetDesiredSize`);function zn(e){let t=e._ownerWritableStream,n=TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);Ln(e,n),In(e,n),t._writer=void 0,e._ownerWritableStream=void 0}a(zn,`WritableStreamDefaultWriterRelease`);function Bn(e,t){let n=e._ownerWritableStream,r=n._writableStreamController,i=Yn(r,t);if(n!==e._ownerWritableStream)return d(sr(`write to`));let a=n._state;if(a===`errored`)return d(n._storedError);if(X(n)||a===`closed`)return d(TypeError(`The stream is closing or closed and cannot be written to`));if(a===`erroring`)return d(n._storedError);let o=_n(n);return Zn(r,t,i),o}a(Bn,`WritableStreamDefaultWriterWrite`);let Vn={},Hn=class{constructor(){throw TypeError(`Illegal constructor`)}get abortReason(){if(!Wn(this))throw ar(`abortReason`);return this._abortReason}get signal(){if(!Wn(this))throw ar(`signal`);if(this._abortController===void 0)throw TypeError(`WritableStreamDefaultController.prototype.signal is not supported`);return this._abortController.signal}error(e=void 0){if(!Wn(this))throw ar(`error`);this._controlledWritableStream._state===`writable`&&rr(this,e)}[ee](e){let t=this._abortAlgorithm(e);return qn(this),t}[te](){V(this)}};a(Hn,`WritableStreamDefaultController`);let Un=Hn;Object.defineProperties(Un.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Un.prototype,Symbol.toStringTag,{value:`WritableStreamDefaultController`,configurable:!0});function Wn(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_controlledWritableStream`)?!1:e instanceof Un}a(Wn,`IsWritableStreamDefaultController`);function Gn(e,t,n,r,i,a,o,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,V(t),t._abortReason=void 0,t._abortController=sn(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=o,t._writeAlgorithm=r,t._closeAlgorithm=i,t._abortAlgorithm=a;let c=nr(t);kn(e,c);let l=n(),d=u(l);p(d,()=>(t._started=!0,Qn(t),null),n=>(t._started=!0,vn(e,n),null))}a(Gn,`SetUpWritableStreamDefaultController`);function Kn(e,t,n,r){let i=Object.create(Un.prototype),o,s,c,l;o=t.start===void 0?a(()=>{},`startAlgorithm`):a(()=>t.start(i),`startAlgorithm`),s=t.write===void 0?a(()=>u(void 0),`writeAlgorithm`):a(e=>t.write(e,i),`writeAlgorithm`),c=t.close===void 0?a(()=>u(void 0),`closeAlgorithm`):a(()=>t.close(),`closeAlgorithm`),l=t.abort===void 0?a(()=>u(void 0),`abortAlgorithm`):a(e=>t.abort(e),`abortAlgorithm`),Gn(e,i,o,s,c,l,n,r)}a(Kn,`SetUpWritableStreamDefaultControllerFromUnderlyingSink`);function qn(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}a(qn,`WritableStreamDefaultControllerClearAlgorithms`);function Jn(e){B(e,Vn,0),Qn(e)}a(Jn,`WritableStreamDefaultControllerClose`);function Yn(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return $n(e,t),1}}a(Yn,`WritableStreamDefaultControllerGetChunkSize`);function Xn(e){return e._strategyHWM-e._queueTotalSize}a(Xn,`WritableStreamDefaultControllerGetDesiredSize`);function Zn(e,t,n){try{B(e,t,n)}catch(t){$n(e,t);return}let r=e._controlledWritableStream;if(!X(r)&&r._state===`writable`){let t=nr(e);kn(r,t)}Qn(e)}a(Zn,`WritableStreamDefaultControllerWrite`);function Qn(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state===`erroring`){bn(t);return}if(e._queue.length===0)return;let n=Qe(e);n===Vn?er(e):tr(e,n)}a(Qn,`WritableStreamDefaultControllerAdvanceQueueIfNeeded`);function $n(e,t){e._controlledWritableStream._state===`writable`&&rr(e,t)}a($n,`WritableStreamDefaultControllerErrorIfNeeded`);function er(e){let t=e._controlledWritableStream;En(t),Ze(e);let n=e._closeAlgorithm();qn(e),p(n,()=>(Cn(t),null),e=>(wn(t,e),null))}a(er,`WritableStreamDefaultControllerProcessClose`);function tr(e,t){let n=e._controlledWritableStream;Dn(n);let r=e._writeAlgorithm(t);p(r,()=>{xn(n);let t=n._state;if(Ze(e),!X(n)&&t===`writable`){let t=nr(e);kn(n,t)}return Qn(e),null},t=>(n._state===`writable`&&qn(e),Sn(n,t),null))}a(tr,`WritableStreamDefaultControllerProcessWrite`);function nr(e){return Xn(e)<=0}a(nr,`WritableStreamDefaultControllerGetBackpressure`);function rr(e,t){let n=e._controlledWritableStream;qn(e),yn(n,t)}a(rr,`WritableStreamDefaultControllerError`);function ir(e){return TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}a(ir,`streamBrandCheckException$2`);function ar(e){return TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}a(ar,`defaultControllerBrandCheckException$2`);function or(e){return TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}a(or,`defaultWriterBrandCheckException`);function sr(e){return TypeError(`Cannot `+e+` a stream using a released writer`)}a(sr,`defaultWriterLockException`);function cr(e){e._closedPromise=l((t,n)=>{e._closedPromise_resolve=t,e._closedPromise_reject=n,e._closedPromiseState=`pending`})}a(cr,`defaultWriterClosedPromiseInitialize`);function lr(e,t){cr(e),dr(e,t)}a(lr,`defaultWriterClosedPromiseInitializeAsRejected`);function ur(e){cr(e),pr(e)}a(ur,`defaultWriterClosedPromiseInitializeAsResolved`);function dr(e,t){e._closedPromise_reject!==void 0&&(_(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=`rejected`)}a(dr,`defaultWriterClosedPromiseReject`);function fr(e,t){lr(e,t)}a(fr,`defaultWriterClosedPromiseResetToRejected`);function pr(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState=`resolved`)}a(pr,`defaultWriterClosedPromiseResolve`);function mr(e){e._readyPromise=l((t,n)=>{e._readyPromise_resolve=t,e._readyPromise_reject=n}),e._readyPromiseState=`pending`}a(mr,`defaultWriterReadyPromiseInitialize`);function hr(e,t){mr(e),_r(e,t)}a(hr,`defaultWriterReadyPromiseInitializeAsRejected`);function gr(e){mr(e),br(e)}a(gr,`defaultWriterReadyPromiseInitializeAsResolved`);function _r(e,t){e._readyPromise_reject!==void 0&&(_(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=`rejected`)}a(_r,`defaultWriterReadyPromiseReject`);function vr(e){mr(e)}a(vr,`defaultWriterReadyPromiseReset`);function yr(e,t){hr(e,t)}a(yr,`defaultWriterReadyPromiseResetToRejected`);function br(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState=`fulfilled`)}a(br,`defaultWriterReadyPromiseResolve`);function xr(){if(typeof globalThis<`u`)return globalThis;if(typeof self<`u`)return self;if(typeof ne.commonjsGlobal<`u`)return ne.commonjsGlobal}a(xr,`getGlobals`);let Sr=xr();function Cr(e){if(!(typeof e==`function`||typeof e==`object`)||e.name!==`DOMException`)return!1;try{return new e,!0}catch{return!1}}a(Cr,`isDOMExceptionConstructor`);function wr(){let e=Sr?.DOMException;return Cr(e)?e:void 0}a(wr,`getFromGlobal`);function Tr(){let e=a(function(e,t){this.message=e||``,this.name=t||`Error`,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)},`DOMException`);return i(e,`DOMException`),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,`constructor`,{value:e,writable:!0,configurable:!0}),e}a(Tr,`createPolyfill`);let Er=wr()||Tr();function Dr(e,n,r,i,o,s){let c=xe(e),d=un(n);e._disturbed=!0;let g=!1,v=u(void 0);return l((y,b)=>{let x;if(s!==void 0){if(x=a(()=>{let t=s.reason===void 0?new Er(`Aborted`,`AbortError`):s.reason,r=[];i||r.push(()=>n._state===`writable`?hn(n,t):u(void 0)),o||r.push(()=>e._state===`readable`?$(e,t):u(void 0)),T(()=>Promise.all(r.map(e=>e())),!0,t)},`abortAlgorithm`),s.aborted){x();return}s.addEventListener(`abort`,x)}function S(){return l((e,t)=>{function n(r){r?e():f(C(),n,t)}a(n,`next`),n(!1)})}a(S,`pipeLoop`);function C(){return g?u(!0):f(d._readyPromise,()=>l((e,n)=>{De(c,{_chunkSteps:a(n=>{v=f(Bn(d,n),void 0,t),e(!1)},`_chunkSteps`),_closeSteps:a(()=>e(!0),`_closeSteps`),_errorSteps:n})}))}if(a(C,`pipeStep`),te(e,c._closedPromise,e=>(i?E(!0,e):T(()=>hn(n,e),!0,e),null)),te(n,d._closedPromise,t=>(o?E(!0,t):T(()=>$(e,t),!0,t),null)),w(e,c._closedPromise,()=>(r?E():T(()=>Fn(d)),null)),X(n)||n._state===`closed`){let t=TypeError(`the destination writable stream closed before all data could be piped to it`);o?E(!0,t):T(()=>$(e,t),!0,t)}_(S());function ee(){let e=v;return f(v,()=>e===v?void 0:ee())}a(ee,`waitForWritesToFinish`);function te(e,t,n){e._state===`errored`?n(e._storedError):h(t,n)}a(te,`isOrBecomesErrored`);function w(e,t,n){e._state===`closed`?n():m(t,n)}a(w,`isOrBecomesClosed`);function T(e,t,r){if(g)return;g=!0,n._state===`writable`&&!X(n)?m(ee(),i):i();function i(){return p(e(),()=>ne(t,r),e=>ne(!0,e)),null}a(i,`doTheRest`)}a(T,`shutdownWithAction`);function E(e,t){g||(g=!0,n._state===`writable`&&!X(n)?m(ee(),()=>ne(e,t)):ne(e,t))}a(E,`shutdown`);function ne(e,t){return zn(d),D(c),s!==void 0&&s.removeEventListener(`abort`,x),e?b(t):y(void 0),null}a(ne,`finalize`)})}a(Dr,`ReadableStreamPipeTo`);let Or=class{constructor(){throw TypeError(`Illegal constructor`)}get desiredSize(){if(!Ar(this))throw Vr(`desiredSize`);return Ir(this)}close(){if(!Ar(this))throw Vr(`close`);if(!Rr(this))throw TypeError(`The stream is not in a state that permits close`);Pr(this)}enqueue(e=void 0){if(!Ar(this))throw Vr(`enqueue`);if(!Rr(this))throw TypeError(`The stream is not in a state that permits enqueue`);return Fr(this,e)}error(e=void 0){if(!Ar(this))throw Vr(`error`);Z(this,e)}[w](e){V(this);let t=this._cancelAlgorithm(e);return Nr(this),t}[T](e){let t=this._controlledReadableStream;if(this._queue.length>0){let n=Ze(this);this._closeRequested&&this._queue.length===0?(Nr(this),ui(t)):jr(this),e._chunkSteps(n)}else Se(t,e),jr(this)}[E](){}};a(Or,`ReadableStreamDefaultController`);let kr=Or;Object.defineProperties(kr.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i(kr.prototype.close,`close`),i(kr.prototype.enqueue,`enqueue`),i(kr.prototype.error,`error`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(kr.prototype,Symbol.toStringTag,{value:`ReadableStreamDefaultController`,configurable:!0});function Ar(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_controlledReadableStream`)?!1:e instanceof kr}a(Ar,`IsReadableStreamDefaultController`);function jr(e){if(!Mr(e))return;if(e._pulling){e._pullAgain=!0;return}e._pulling=!0;let t=e._pullAlgorithm();p(t,()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,jr(e)),null),t=>(Z(e,t),null))}a(jr,`ReadableStreamDefaultControllerCallPullIfNeeded`);function Mr(e){let t=e._controlledReadableStream;return!Rr(e)||!e._started?!1:!!(li(t)&&we(t)>0||Ir(e)>0)}a(Mr,`ReadableStreamDefaultControllerShouldCallPull`);function Nr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}a(Nr,`ReadableStreamDefaultControllerClearAlgorithms`);function Pr(e){if(!Rr(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Nr(e),ui(t))}a(Pr,`ReadableStreamDefaultControllerClose`);function Fr(e,t){if(!Rr(e))return;let n=e._controlledReadableStream;if(li(n)&&we(n)>0)Ce(n,t,!1);else{let n;try{n=e._strategySizeAlgorithm(t)}catch(t){throw Z(e,t),t}try{B(e,t,n)}catch(t){throw Z(e,t),t}}jr(e)}a(Fr,`ReadableStreamDefaultControllerEnqueue`);function Z(e,t){let n=e._controlledReadableStream;n._state===`readable`&&(V(e),Nr(e),di(n,t))}a(Z,`ReadableStreamDefaultControllerError`);function Ir(e){let t=e._controlledReadableStream._state;return t===`errored`?null:t===`closed`?0:e._strategyHWM-e._queueTotalSize}a(Ir,`ReadableStreamDefaultControllerGetDesiredSize`);function Lr(e){return!Mr(e)}a(Lr,`ReadableStreamDefaultControllerHasBackpressure`);function Rr(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t===`readable`}a(Rr,`ReadableStreamDefaultControllerCanCloseOrEnqueue`);function zr(e,t,n,r,i,a,o){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,V(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=o,t._strategyHWM=a,t._pullAlgorithm=r,t._cancelAlgorithm=i,e._readableStreamController=t;let s=n();p(u(s),()=>(t._started=!0,jr(t),null),e=>(Z(t,e),null))}a(zr,`SetUpReadableStreamDefaultController`);function Br(e,t,n,r){let i=Object.create(kr.prototype),o,s,c;o=t.start===void 0?a(()=>{},`startAlgorithm`):a(()=>t.start(i),`startAlgorithm`),s=t.pull===void 0?a(()=>u(void 0),`pullAlgorithm`):a(()=>t.pull(i),`pullAlgorithm`),c=t.cancel===void 0?a(()=>u(void 0),`cancelAlgorithm`):a(e=>t.cancel(e),`cancelAlgorithm`),zr(e,i,o,s,c,n,r)}a(Br,`SetUpReadableStreamDefaultControllerFromUnderlyingSource`);function Vr(e){return TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}a(Vr,`defaultControllerBrandCheckException$1`);function Hr(e,t){return U(e._readableStreamController)?Wr(e):Ur(e)}a(Hr,`ReadableStreamTee`);function Ur(e,t){let n=xe(e),r=!1,i=!1,o=!1,s=!1,c,d,f,p,m,g=l(e=>{m=e});function _(){return r?(i=!0,u(void 0)):(r=!0,De(n,{_chunkSteps:a(e=>{v(()=>{i=!1;let t=e,n=e;o||Fr(f._readableStreamController,t),s||Fr(p._readableStreamController,n),r=!1,i&&_()})},`_chunkSteps`),_closeSteps:a(()=>{r=!1,o||Pr(f._readableStreamController),s||Pr(p._readableStreamController),(!o||!s)&&m(void 0)},`_closeSteps`),_errorSteps:a(()=>{r=!1},`_errorSteps`)}),u(void 0))}a(_,`pullAlgorithm`);function y(t){if(o=!0,c=t,s){let t=L([c,d]),n=$(e,t);m(n)}return g}a(y,`cancel1Algorithm`);function b(t){if(s=!0,d=t,o){let t=L([c,d]),n=$(e,t);m(n)}return g}a(b,`cancel2Algorithm`);function x(){}return a(x,`startAlgorithm`),f=ai(x,_,y),p=ai(x,_,b),h(n._closedPromise,e=>(Z(f._readableStreamController,e),Z(p._readableStreamController,e),(!o||!s)&&m(void 0),null)),[f,p]}a(Ur,`ReadableStreamDefaultTee`);function Wr(e){let t=xe(e),n=!1,r=!1,i=!1,o=!1,s=!1,c,d,f,p,m,g=l(e=>{m=e});function _(e){h(e._closedPromise,n=>(e!==t||(G(f._readableStreamController,n),G(p._readableStreamController,n),(!o||!s)&&m(void 0)),null))}a(_,`forwardReaderError`);function y(){Y(t)&&(D(t),t=xe(e),_(t)),De(t,{_chunkSteps:a(t=>{v(()=>{r=!1,i=!1;let a=t,c=t;if(!o&&!s)try{c=z(t)}catch(t){G(f._readableStreamController,t),G(p._readableStreamController,t),m($(e,t));return}o||Et(f._readableStreamController,a),s||Et(p._readableStreamController,c),n=!1,r?x():i&&S()})},`_chunkSteps`),_closeSteps:a(()=>{n=!1,o||Tt(f._readableStreamController),s||Tt(p._readableStreamController),f._readableStreamController._pendingPullIntos.length>0&&q(f._readableStreamController,0),p._readableStreamController._pendingPullIntos.length>0&&q(p._readableStreamController,0),(!o||!s)&&m(void 0)},`_closeSteps`),_errorSteps:a(()=>{n=!1},`_errorSteps`)})}a(y,`pullWithDefaultReader`);function b(c,l){P(t)&&(D(t),t=Rt(e),_(t));let u=l?p:f,d=l?f:p;Wt(t,c,1,{_chunkSteps:a(t=>{v(()=>{r=!1,i=!1;let a=l?s:o;if(l?o:s)a||kt(u._readableStreamController,t);else{let n;try{n=z(t)}catch(t){G(u._readableStreamController,t),G(d._readableStreamController,t),m($(e,t));return}a||kt(u._readableStreamController,t),Et(d._readableStreamController,n)}n=!1,r?x():i&&S()})},`_chunkSteps`),_closeSteps:a(e=>{n=!1;let t=l?s:o,r=l?o:s;t||Tt(u._readableStreamController),r||Tt(d._readableStreamController),e!==void 0&&(t||kt(u._readableStreamController,e),!r&&d._readableStreamController._pendingPullIntos.length>0&&q(d._readableStreamController,0)),(!t||!r)&&m(void 0)},`_closeSteps`),_errorSteps:a(()=>{n=!1},`_errorSteps`)})}a(b,`pullWithBYOBReader`);function x(){if(n)return r=!0,u(void 0);n=!0;let e=K(f._readableStreamController);return e===null?y():b(e._view,!1),u(void 0)}a(x,`pull1Algorithm`);function S(){if(n)return i=!0,u(void 0);n=!0;let e=K(p._readableStreamController);return e===null?y():b(e._view,!0),u(void 0)}a(S,`pull2Algorithm`);function C(t){if(o=!0,c=t,s){let t=L([c,d]),n=$(e,t);m(n)}return g}a(C,`cancel1Algorithm`);function ee(t){if(s=!0,d=t,o){let t=L([c,d]),n=$(e,t);m(n)}return g}a(ee,`cancel2Algorithm`);function te(){}return a(te,`startAlgorithm`),f=oi(te,x,C),p=oi(te,S,ee),_(t),[f,p]}a(Wr,`ReadableByteStreamTee`);function Gr(e){return n(e)&&typeof e.getReader<`u`}a(Gr,`isReadableStreamLike`);function Kr(e){return Gr(e)?Jr(e.getReader()):qr(e)}a(Kr,`ReadableStreamFrom`);function qr(e){let r,i=qe(e,`async`),o=t;function s(){let e;try{e=R(i)}catch(e){return d(e)}let t=u(e);return g(t,e=>{if(!n(e))throw TypeError(`The promise returned by the iterator.next() method must fulfill with an object`);if(Je(e))Pr(r._readableStreamController);else{let t=Ye(e);Fr(r._readableStreamController,t)}})}a(s,`pullAlgorithm`);function c(e){let t=i.iterator,r;try{r=We(t,`return`)}catch(e){return d(e)}if(r===void 0)return u(void 0);let a;try{a=y(r,t,[e])}catch(e){return d(e)}let o=u(a);return g(o,e=>{if(!n(e))throw TypeError(`The promise returned by the iterator.return() method must fulfill with an object`)})}return a(c,`cancelAlgorithm`),r=ai(o,s,c,0),r}a(qr,`ReadableStreamFromIterable`);function Jr(e){let r,i=t;function o(){let t;try{t=e.read()}catch(e){return d(e)}return g(t,e=>{if(!n(e))throw TypeError(`The promise returned by the reader.read() method must fulfill with an object`);if(e.done)Pr(r._readableStreamController);else{let t=e.value;Fr(r._readableStreamController,t)}})}a(o,`pullAlgorithm`);function s(t){try{return u(e.cancel(t))}catch(e){return d(e)}}return a(s,`cancelAlgorithm`),r=ai(i,o,s,0),r}a(Jr,`ReadableStreamFromDefaultReader`);function Yr(e,t){A(e,t);let n=e,r=n?.autoAllocateChunkSize,i=n?.cancel,a=n?.pull,o=n?.start,s=n?.type;return{autoAllocateChunkSize:r===void 0?void 0:ye(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:i===void 0?void 0:Xr(i,n,`${t} has member 'cancel' that`),pull:a===void 0?void 0:Zr(a,n,`${t} has member 'pull' that`),start:o===void 0?void 0:Qr(o,n,`${t} has member 'start' that`),type:s===void 0?void 0:$r(s,`${t} has member 'type' that`)}}a(Yr,`convertUnderlyingDefaultOrByteSource`);function Xr(e,t,n){return j(e,n),n=>b(e,t,[n])}a(Xr,`convertUnderlyingSourceCancelCallback`);function Zr(e,t,n){return j(e,n),n=>b(e,t,[n])}a(Zr,`convertUnderlyingSourcePullCallback`);function Qr(e,t,n){return j(e,n),n=>y(e,t,[n])}a(Qr,`convertUnderlyingSourceStartCallback`);function $r(e,t){if(e=`${e}`,e!==`bytes`)throw TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}a($r,`convertReadableStreamType`);function ei(e,t){return A(e,t),{preventCancel:!!e?.preventCancel}}a(ei,`convertIteratorOptions`);function ti(e,t){A(e,t);let n=e?.preventAbort,r=e?.preventCancel,i=e?.preventClose,a=e?.signal;return a!==void 0&&ni(a,`${t} has member 'signal' that`),{preventAbort:!!n,preventCancel:!!r,preventClose:!!i,signal:a}}a(ti,`convertPipeOptions`);function ni(e,t){if(!an(e))throw TypeError(`${t} is not an AbortSignal.`)}a(ni,`assertAbortSignal`);function ri(e,t){A(e,t);let n=e?.readable;he(n,`readable`,`ReadableWritablePair`),be(n,`${t} has member 'readable' that`);let r=e?.writable;return he(r,`writable`,`ReadableWritablePair`),rn(r,`${t} has member 'writable' that`),{readable:n,writable:r}}a(ri,`convertReadableWritablePair`);let ii=class{constructor(e={},t={}){e===void 0?e=null:me(e,`First parameter`);let n=Xt(t,`Second parameter`),r=Yr(e,`First parameter`);if(si(this),r.type===`bytes`){if(n.size!==void 0)throw RangeError(`The strategy for a byte stream cannot have a size function`);let e=Jt(n,0);jt(this,r,e)}else{let e=Yt(n),t=Jt(n,1);Br(this,r,t,e)}}get locked(){if(!ci(this))throw fi(`locked`);return li(this)}cancel(e=void 0){return ci(this)?li(this)?d(TypeError(`Cannot cancel a stream that already has a reader`)):$(this,e):d(fi(`cancel`))}getReader(e=void 0){if(!ci(this))throw fi(`getReader`);return Ft(e,`First parameter`).mode===void 0?xe(this):Rt(this)}pipeThrough(e,t={}){if(!ci(this))throw fi(`pipeThrough`);M(e,1,`pipeThrough`);let n=ri(e,`First parameter`),r=ti(t,`Second parameter`);if(li(this))throw TypeError(`ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream`);if(mn(n.writable))throw TypeError(`ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream`);let i=Dr(this,n.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal);return _(i),n.readable}pipeTo(e,t={}){if(!ci(this))return d(fi(`pipeTo`));if(e===void 0)return d(`Parameter 1 is required in 'pipeTo'.`);if(!pn(e))return d(TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`));let n;try{n=ti(t,`Second parameter`)}catch(e){return d(e)}return li(this)?d(TypeError(`ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream`)):mn(e)?d(TypeError(`ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream`)):Dr(this,e,n.preventClose,n.preventAbort,n.preventCancel,n.signal)}tee(){if(!ci(this))throw fi(`tee`);let e=Hr(this);return L(e)}values(e=void 0){if(!ci(this))throw fi(`values`);let t=ei(e,`First parameter`);return Pe(this,t.preventCancel)}[Ke](e){return this.values(e)}static from(e){return Kr(e)}};a(ii,`ReadableStream`);let Q=ii;Object.defineProperties(Q,{from:{enumerable:!0}}),Object.defineProperties(Q.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(Q.from,`from`),i(Q.prototype.cancel,`cancel`),i(Q.prototype.getReader,`getReader`),i(Q.prototype.pipeThrough,`pipeThrough`),i(Q.prototype.pipeTo,`pipeTo`),i(Q.prototype.tee,`tee`),i(Q.prototype.values,`values`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Q.prototype,Symbol.toStringTag,{value:`ReadableStream`,configurable:!0}),Object.defineProperty(Q.prototype,Ke,{value:Q.prototype.values,writable:!0,configurable:!0});function ai(e,t,n,r=1,i=()=>1){let a=Object.create(Q.prototype);si(a);let o=Object.create(kr.prototype);return zr(a,o,e,t,n,r,i),a}a(ai,`CreateReadableStream`);function oi(e,t,n){let r=Object.create(Q.prototype);si(r);let i=Object.create(H.prototype);return At(r,i,e,t,n,0,void 0),r}a(oi,`CreateReadableByteStream`);function si(e){e._state=`readable`,e._reader=void 0,e._storedError=void 0,e._disturbed=!1}a(si,`InitializeReadableStream`);function ci(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_readableStreamController`)?!1:e instanceof Q}a(ci,`IsReadableStream`);function li(e){return e._reader!==void 0}a(li,`IsReadableStreamLocked`);function $(e,n){if(e._disturbed=!0,e._state===`closed`)return u(void 0);if(e._state===`errored`)return d(e._storedError);ui(e);let r=e._reader;if(r!==void 0&&Y(r)){let e=r._readIntoRequests;r._readIntoRequests=new C,e.forEach(e=>{e._closeSteps(void 0)})}let i=e._readableStreamController[w](n);return g(i,t)}a($,`ReadableStreamCancel`);function ui(e){e._state=`closed`;let t=e._reader;if(t!==void 0&&(le(t),P(t))){let e=t._readRequests;t._readRequests=new C,e.forEach(e=>{e._closeSteps()})}}a(ui,`ReadableStreamClose`);function di(e,t){e._state=`errored`,e._storedError=t;let n=e._reader;n!==void 0&&(O(n,t),P(n)?ke(n,t):Kt(n,t))}a(di,`ReadableStreamError`);function fi(e){return TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}a(fi,`streamBrandCheckException$1`);function pi(e,t){A(e,t);let n=e?.highWaterMark;return he(n,`highWaterMark`,`QueuingStrategyInit`),{highWaterMark:ge(n)}}a(pi,`convertQueuingStrategyInit`);let mi=a(e=>e.byteLength,`byteLengthSizeFunction`);i(mi,`size`);let hi=class{constructor(e){M(e,1,`ByteLengthQueuingStrategy`),e=pi(e,`First parameter`),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!vi(this))throw _i(`highWaterMark`);return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!vi(this))throw _i(`size`);return mi}};a(hi,`ByteLengthQueuingStrategy`);let gi=hi;Object.defineProperties(gi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(gi.prototype,Symbol.toStringTag,{value:`ByteLengthQueuingStrategy`,configurable:!0});function _i(e){return TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}a(_i,`byteLengthBrandCheckException`);function vi(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_byteLengthQueuingStrategyHighWaterMark`)?!1:e instanceof gi}a(vi,`IsByteLengthQueuingStrategy`);let yi=a(()=>1,`countSizeFunction`);i(yi,`size`);let bi=class{constructor(e){M(e,1,`CountQueuingStrategy`),e=pi(e,`First parameter`),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Ci(this))throw Si(`highWaterMark`);return this._countQueuingStrategyHighWaterMark}get size(){if(!Ci(this))throw Si(`size`);return yi}};a(bi,`CountQueuingStrategy`);let xi=bi;Object.defineProperties(xi.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(xi.prototype,Symbol.toStringTag,{value:`CountQueuingStrategy`,configurable:!0});function Si(e){return TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}a(Si,`countBrandCheckException`);function Ci(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_countQueuingStrategyHighWaterMark`)?!1:e instanceof xi}a(Ci,`IsCountQueuingStrategy`);function wi(e,t){A(e,t);let n=e?.cancel,r=e?.flush,i=e?.readableType,a=e?.start,o=e?.transform,s=e?.writableType;return{cancel:n===void 0?void 0:Oi(n,e,`${t} has member 'cancel' that`),flush:r===void 0?void 0:Ti(r,e,`${t} has member 'flush' that`),readableType:i,start:a===void 0?void 0:Ei(a,e,`${t} has member 'start' that`),transform:o===void 0?void 0:Di(o,e,`${t} has member 'transform' that`),writableType:s}}a(wi,`convertTransformer`);function Ti(e,t,n){return j(e,n),n=>b(e,t,[n])}a(Ti,`convertTransformerFlushCallback`);function Ei(e,t,n){return j(e,n),n=>y(e,t,[n])}a(Ei,`convertTransformerStartCallback`);function Di(e,t,n){return j(e,n),(n,r)=>b(e,t,[n,r])}a(Di,`convertTransformerTransformCallback`);function Oi(e,t,n){return j(e,n),n=>b(e,t,[n])}a(Oi,`convertTransformerCancelCallback`);let ki=class{constructor(e={},t={},n={}){e===void 0&&(e=null);let r=Xt(t,`Second parameter`),i=Xt(n,`Third parameter`),a=wi(e,`First parameter`);if(a.readableType!==void 0)throw RangeError(`Invalid readableType specified`);if(a.writableType!==void 0)throw RangeError(`Invalid writableType specified`);let o=Jt(i,0),s=Yt(i),c=Jt(r,1),u=Yt(r),d,f=l(e=>{d=e});ji(this,f,c,u,o,s),Vi(this,a),a.start===void 0?d(void 0):d(a.start(this._transformStreamController))}get readable(){if(!Mi(this))throw ta(`readable`);return this._readable}get writable(){if(!Mi(this))throw ta(`writable`);return this._writable}};a(ki,`TransformStream`);let Ai=ki;Object.defineProperties(Ai.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Ai.prototype,Symbol.toStringTag,{value:`TransformStream`,configurable:!0});function ji(e,t,n,r,i,o){function s(){return t}a(s,`startAlgorithm`);function c(t){return qi(e,t)}a(c,`writeAlgorithm`);function l(t){return Ji(e,t)}a(l,`abortAlgorithm`);function u(){return Yi(e)}a(u,`closeAlgorithm`),e._writable=dn(s,c,u,l,n,r);function d(){return Xi(e)}a(d,`pullAlgorithm`);function f(t){return Zi(e,t)}a(f,`cancelAlgorithm`),e._readable=ai(s,d,f,i,o),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Ii(e,!0),e._transformStreamController=void 0}a(ji,`InitializeTransformStream`);function Mi(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_transformStreamController`)?!1:e instanceof Ai}a(Mi,`IsTransformStream`);function Ni(e,t){Z(e._readable._readableStreamController,t),Pi(e,t)}a(Ni,`TransformStreamError`);function Pi(e,t){Hi(e._transformStreamController),$n(e._writable._writableStreamController,t),Fi(e)}a(Pi,`TransformStreamErrorWritableAndUnblockWrite`);function Fi(e){e._backpressure&&Ii(e,!1)}a(Fi,`TransformStreamUnblockWrite`);function Ii(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=l(t=>{e._backpressureChangePromise_resolve=t}),e._backpressure=t}a(Ii,`TransformStreamSetBackpressure`);let Li=class{constructor(){throw TypeError(`Illegal constructor`)}get desiredSize(){if(!zi(this))throw Qi(`desiredSize`);let e=this._controlledTransformStream._readable._readableStreamController;return Ir(e)}enqueue(e=void 0){if(!zi(this))throw Qi(`enqueue`);Ui(this,e)}error(e=void 0){if(!zi(this))throw Qi(`error`);Wi(this,e)}terminate(){if(!zi(this))throw Qi(`terminate`);Ki(this)}};a(Li,`TransformStreamDefaultController`);let Ri=Li;Object.defineProperties(Ri.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Ri.prototype.enqueue,`enqueue`),i(Ri.prototype.error,`error`),i(Ri.prototype.terminate,`terminate`),typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Ri.prototype,Symbol.toStringTag,{value:`TransformStreamDefaultController`,configurable:!0});function zi(e){return!n(e)||!Object.prototype.hasOwnProperty.call(e,`_controlledTransformStream`)?!1:e instanceof Ri}a(zi,`IsTransformStreamDefaultController`);function Bi(e,t,n,r,i){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=n,t._flushAlgorithm=r,t._cancelAlgorithm=i,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}a(Bi,`SetUpTransformStreamDefaultController`);function Vi(e,t){let n=Object.create(Ri.prototype),r,i,o;r=t.transform===void 0?a(e=>{try{return Ui(n,e),u(void 0)}catch(e){return d(e)}},`transformAlgorithm`):a(e=>t.transform(e,n),`transformAlgorithm`),i=t.flush===void 0?a(()=>u(void 0),`flushAlgorithm`):a(()=>t.flush(n),`flushAlgorithm`),o=t.cancel===void 0?a(()=>u(void 0),`cancelAlgorithm`):a(e=>t.cancel(e),`cancelAlgorithm`),Bi(e,n,r,i,o)}a(Vi,`SetUpTransformStreamDefaultControllerFromTransformer`);function Hi(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}a(Hi,`TransformStreamDefaultControllerClearAlgorithms`);function Ui(e,t){let n=e._controlledTransformStream,r=n._readable._readableStreamController;if(!Rr(r))throw TypeError(`Readable side is not in a state that permits enqueue`);try{Fr(r,t)}catch(e){throw Pi(n,e),n._readable._storedError}Lr(r)!==n._backpressure&&Ii(n,!0)}a(Ui,`TransformStreamDefaultControllerEnqueue`);function Wi(e,t){Ni(e._controlledTransformStream,t)}a(Wi,`TransformStreamDefaultControllerError`);function Gi(e,t){let n=e._transformAlgorithm(t);return g(n,void 0,t=>{throw Ni(e._controlledTransformStream,t),t})}a(Gi,`TransformStreamDefaultControllerPerformTransform`);function Ki(e){let t=e._controlledTransformStream,n=t._readable._readableStreamController;Pr(n);let r=TypeError(`TransformStream terminated`);Pi(t,r)}a(Ki,`TransformStreamDefaultControllerTerminate`);function qi(e,t){let n=e._transformStreamController;if(e._backpressure){let r=e._backpressureChangePromise;return g(r,()=>{let r=e._writable;if(r._state===`erroring`)throw r._storedError;return Gi(n,t)})}return Gi(n,t)}a(qi,`TransformStreamDefaultSinkWriteAlgorithm`);function Ji(e,t){let n=e._transformStreamController;if(n._finishPromise!==void 0)return n._finishPromise;let r=e._readable;n._finishPromise=l((e,t)=>{n._finishPromise_resolve=e,n._finishPromise_reject=t});let i=n._cancelAlgorithm(t);return Hi(n),p(i,()=>(r._state===`errored`?ea(n,r._storedError):(Z(r._readableStreamController,t),$i(n)),null),e=>(Z(r._readableStreamController,e),ea(n,e),null)),n._finishPromise}a(Ji,`TransformStreamDefaultSinkAbortAlgorithm`);function Yi(e){let t=e._transformStreamController;if(t._finishPromise!==void 0)return t._finishPromise;let n=e._readable;t._finishPromise=l((e,n)=>{t._finishPromise_resolve=e,t._finishPromise_reject=n});let r=t._flushAlgorithm();return Hi(t),p(r,()=>(n._state===`errored`?ea(t,n._storedError):(Pr(n._readableStreamController),$i(t)),null),e=>(Z(n._readableStreamController,e),ea(t,e),null)),t._finishPromise}a(Yi,`TransformStreamDefaultSinkCloseAlgorithm`);function Xi(e){return Ii(e,!1),e._backpressureChangePromise}a(Xi,`TransformStreamDefaultSourcePullAlgorithm`);function Zi(e,t){let n=e._transformStreamController;if(n._finishPromise!==void 0)return n._finishPromise;let r=e._writable;n._finishPromise=l((e,t)=>{n._finishPromise_resolve=e,n._finishPromise_reject=t});let i=n._cancelAlgorithm(t);return Hi(n),p(i,()=>(r._state===`errored`?ea(n,r._storedError):($n(r._writableStreamController,t),Fi(e),$i(n)),null),t=>($n(r._writableStreamController,t),Fi(e),ea(n,t),null)),n._finishPromise}a(Zi,`TransformStreamDefaultSourceCancelAlgorithm`);function Qi(e){return TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}a(Qi,`defaultControllerBrandCheckException`);function $i(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}a($i,`defaultControllerFinishPromiseResolve`);function ea(e,t){e._finishPromise_reject!==void 0&&(_(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}a(ea,`defaultControllerFinishPromiseReject`);function ta(e){return TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}a(ta,`streamBrandCheckException`),e.ByteLengthQueuingStrategy=gi,e.CountQueuingStrategy=xi,e.ReadableByteStreamController=H,e.ReadableStream=Q,e.ReadableStreamBYOBReader=J,e.ReadableStreamBYOBRequest=rt,e.ReadableStreamDefaultController=kr,e.ReadableStreamDefaultReader=N,e.TransformStream=Ai,e.TransformStreamDefaultController=Ri,e.WritableStream=ln,e.WritableStreamDefaultController=Un,e.WritableStreamDefaultWriter=jn})}(de,de.exports)),de.exports}a(j,`requirePonyfill_es2018`);var pe;function me(){if(pe)return ue;if(pe=1,!globalThis.ReadableStream)try{let e=require(`node:process`),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require(`node:stream/web`)),e.emitWarning=t}catch(n){throw e.emitWarning=t,n}}catch{Object.assign(globalThis,j())}try{let{Blob:e}=require(`buffer`);e&&!e.prototype.stream&&(e.prototype.stream=a(function(e){let t=0,n=this;return new ReadableStream({type:`bytes`,async pull(e){let r=await n.slice(t,Math.min(n.size,t+65536)).arrayBuffer();t+=r.byteLength,e.enqueue(new Uint8Array(r)),t===n.size&&e.close()}})},`name`))}catch{}return ue}a(me,`requireStreams`),me();
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */let M=65536;async function*he(e,t=!0){for(let n of e)if(`stream`in n)yield*n.stream();else if(ArrayBuffer.isView(n))if(t){let e=n.byteOffset,t=n.byteOffset+n.byteLength;for(;e!==t;){let r=Math.min(t-e,M),i=n.buffer.slice(e,e+r);e+=i.byteLength,yield new Uint8Array(i)}}else yield n;else{let e=0,t=n;for(;e!==t.size;){let n=await t.slice(e,Math.min(t.size,e+M)).arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}a(he,`toIterator`);let ge=(m=class{constructor(e=[],t={}){if(c(this,u,[]),c(this,d,``),c(this,f,0),c(this,p,`transparent`),typeof e!=`object`||!e)throw TypeError(`Failed to construct 'Blob': The provided value cannot be converted to a sequence.`);if(typeof e[Symbol.iterator]!=`function`)throw TypeError(`Failed to construct 'Blob': The object must have a callable @@iterator property.`);if(typeof t!=`object`&&typeof t!=`function`)throw TypeError(`Failed to construct 'Blob': parameter 2 cannot convert to dictionary.`);t===null&&(t={});let n=new TextEncoder;for(let t of e){let e;e=ArrayBuffer.isView(t)?new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t instanceof ArrayBuffer?new Uint8Array(t.slice(0)):t instanceof m?t:n.encode(`${t}`),l(this,f,s(this,f)+(ArrayBuffer.isView(e)?e.byteLength:e.size)),s(this,u).push(e)}l(this,p,`${t.endings===void 0?`transparent`:t.endings}`);let r=t.type===void 0?``:String(t.type);l(this,d,/^[\x20-\x7E]*$/.test(r)?r:``)}get size(){return s(this,f)}get type(){return s(this,d)}async text(){let e=new TextDecoder,t=``;for await(let n of he(s(this,u),!1))t+=e.decode(n,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){let e=new Uint8Array(this.size),t=0;for await(let n of he(s(this,u),!1))e.set(n,t),t+=n.length;return e.buffer}stream(){let e=he(s(this,u),!0);return new globalThis.ReadableStream({type:`bytes`,async pull(t){let n=await e.next();n.done?t.close():t.enqueue(n.value)},async cancel(){await e.return()}})}slice(e=0,t=this.size,n=``){let{size:r}=this,i=e<0?Math.max(r+e,0):Math.min(e,r),a=t<0?Math.max(r+t,0):Math.min(t,r),o=Math.max(a-i,0),c=s(this,u),d=[],p=0;for(let e of c){if(p>=o)break;let t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,a-=t;else{let n;ArrayBuffer.isView(e)?(n=e.subarray(i,Math.min(t,a)),p+=n.byteLength):(n=e.slice(i,Math.min(t,a)),p+=n.size),a-=t,d.push(n),i=0}}let h=new m([],{type:String(n).toLowerCase()});return l(h,f,o),l(h,u,d),h}get[Symbol.toStringTag](){return`Blob`}static[Symbol.hasInstance](e){return e&&typeof e==`object`&&typeof e.constructor==`function`&&(typeof e.stream==`function`||typeof e.arrayBuffer==`function`)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}},u=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,a(m,`Blob`),m);Object.defineProperties(ge.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});let _e=ge,ve=(_=class extends _e{constructor(e,t,n={}){if(arguments.length<2)throw TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,n),c(this,h,0),c(this,g,``),n===null&&(n={});let r=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(r)||l(this,h,r),l(this,g,String(t))}get name(){return s(this,g)}get lastModified(){return s(this,h)}get[Symbol.toStringTag](){return`File`}static[Symbol.hasInstance](e){return!!e&&e instanceof _e&&/^(File)$/.test(e[Symbol.toStringTag])}},h=new WeakMap,g=new WeakMap,a(_,`File`),_),ye=ve;
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var{toStringTag:be,iterator:xe,hasInstance:Se}=Symbol,Ce=Math.random,we=`append,set,get,getAll,delete,keys,values,entries,forEach,constructor`.split(`,`),Te=a((e,t,n)=>(e+=``,/^(Blob|File)$/.test(t&&t[be])?[(n=n===void 0?t[be]==`File`?t.name:`blob`:n+``,e),t.name!==n||t[be]==`blob`?new ye([t],n,t):t]:[e,t+``]),`f`),Ee=a((e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,`%0A`).replace(/\r/g,`%0D`).replace(/"/g,`%22`),`e$1`),N=a((e,t,n)=>{if(t.length<n)throw TypeError(`Failed to execute '${e}' on 'FormData': ${n} arguments required, but only ${t.length} present.`)},`x`);let P=(y=class{constructor(...e){if(c(this,v,[]),e.length)throw TypeError(`Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.`)}get[be](){return`FormData`}[xe](){return this.entries()}static[Se](e){return e&&typeof e==`object`&&e[be]===`FormData`&&!we.some(t=>typeof e[t]!=`function`)}append(...e){N(`append`,arguments,2),s(this,v).push(Te(...e))}delete(e){N(`delete`,arguments,1),e+=``,l(this,v,s(this,v).filter(([t])=>t!==e))}get(e){N(`get`,arguments,1),e+=``;for(var t=s(this,v),n=t.length,r=0;r<n;r++)if(t[r][0]===e)return t[r][1];return null}getAll(e,t){return N(`getAll`,arguments,1),t=[],e+=``,s(this,v).forEach(n=>n[0]===e&&t.push(n[1])),t}has(e){return N(`has`,arguments,1),e+=``,s(this,v).some(t=>t[0]===e)}forEach(e,t){N(`forEach`,arguments,1);for(var[n,r]of this)e.call(t,r,n,this)}set(...e){N(`set`,arguments,2);var t=[],n=!0;e=Te(...e),s(this,v).forEach(r=>{r[0]===e[0]?n&&(n=!t.push(e)):t.push(r)}),n&&t.push(e),l(this,v,t)}*entries(){yield*s(this,v)}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}},v=new WeakMap,a(y,`FormData`),y);function De(e,t=_e){var n=`${Ce()}${Ce()}`.replace(/\./g,``).slice(-28).padStart(32,`-`),r=[],i=`--${n}\r
Content-Disposition: form-data; name="`;return e.forEach((e,t)=>typeof e==`string`?r.push(i+Ee(t)+`"\r
\r
${e.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):r.push(i+Ee(t)+`"; filename="${Ee(e.name,1)}"\r
Content-Type: ${e.type||`application/octet-stream`}\r
\r
`,e,`\r
`)),r.push(`--${n}--`),new t(r,{type:`multipart/form-data; boundary=`+n})}a(De,`formDataToBlob`);let Oe=class extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};a(Oe,`FetchBaseError`);let ke=Oe,Ae=class extends ke{constructor(e,t,n){super(e,t),n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};a(Ae,`FetchError`);let F=Ae,je=Symbol.toStringTag,Me=a(e=>typeof e==`object`&&typeof e.append==`function`&&typeof e.delete==`function`&&typeof e.get==`function`&&typeof e.getAll==`function`&&typeof e.has==`function`&&typeof e.set==`function`&&typeof e.sort==`function`&&e[je]===`URLSearchParams`,`isURLSearchParameters`),Ne=a(e=>e&&typeof e==`object`&&typeof e.arrayBuffer==`function`&&typeof e.type==`string`&&typeof e.stream==`function`&&typeof e.constructor==`function`&&/^(Blob|File)$/.test(e[je]),`isBlob`),Pe=a(e=>typeof e==`object`&&(e[je]===`AbortSignal`||e[je]===`EventTarget`),`isAbortSignal`),Fe=a((e,t)=>{let n=new URL(t).hostname,r=new URL(e).hostname;return n===r||n.endsWith(`.${r}`)},`isDomainOrSubdomain`),Ie=a((e,t)=>{let n=new URL(t).protocol,r=new URL(e).protocol;return n===r},`isSameProtocol`),Le=E.promisify(k.pipeline),I=Symbol(`Body internals`),Re=class{constructor(e,{size:t=0}={}){let n=null;e===null?e=null:Me(e)?e=T.Buffer.from(e.toString()):Ne(e)||T.Buffer.isBuffer(e)||(E.types.isAnyArrayBuffer(e)?e=T.Buffer.from(e):ArrayBuffer.isView(e)?e=T.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof k||(e instanceof P?(e=De(e),n=e.type.split(`=`)[1]):e=T.Buffer.from(String(e))));let r=e;T.Buffer.isBuffer(e)?r=k.Readable.from(e):Ne(e)&&(r=k.Readable.from(e.stream())),this[I]={body:e,stream:r,boundary:n,disturbed:!1,error:null},this.size=t,e instanceof k&&e.on(`error`,e=>{let t=e instanceof ke?e:new F(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,`system`,e);this[I].error=t})}get body(){return this[I].stream}get bodyUsed(){return this[I].disturbed}async arrayBuffer(){let{buffer:e,byteOffset:t,byteLength:n}=await L(this);return e.slice(t,t+n)}async formData(){let t=this.headers.get(`content-type`);if(t.startsWith(`application/x-www-form-urlencoded`)){let e=new P,t=new URLSearchParams(await this.text());for(let[n,r]of t)e.append(n,r);return e}let{toFormData:n}=await Promise.resolve().then(()=>e.__toDynamicImportESM(1)(require(`./multipart-parser-BbA0px1U.js`)));return n(this.body,t)}async blob(){let e=this.headers&&this.headers.get(`content-type`)||this[I].body&&this[I].body.type||``,t=await this.arrayBuffer();return new _e([t],{type:e})}async json(){let e=await this.text();return JSON.parse(e)}async text(){let e=await L(this);return new TextDecoder().decode(e)}buffer(){return L(this)}};a(Re,`Body`);let ze=Re;ze.prototype.buffer=E.deprecate(ze.prototype.buffer,`Please use 'response.arrayBuffer()' instead of 'response.buffer()'`,`node-fetch#buffer`),Object.defineProperties(ze.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:E.deprecate(()=>{},`data doesn't exist, use json(), text(), arrayBuffer(), or body instead`,`https://github.com/node-fetch/node-fetch/issues/1000 (response)`)}});async function L(e){if(e[I].disturbed)throw TypeError(`body used already for: ${e.url}`);if(e[I].disturbed=!0,e[I].error)throw e[I].error;let{body:t}=e;if(t===null||!(t instanceof k))return T.Buffer.alloc(0);let n=[],r=0;try{for await(let i of t){if(e.size>0&&r+i.length>e.size){let n=new F(`content size at ${e.url} over limit: ${e.size}`,`max-size`);throw t.destroy(n),n}r+=i.length,n.push(i)}}catch(t){throw t instanceof ke?t:new F(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,`system`,t)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return n.every(e=>typeof e==`string`)?T.Buffer.from(n.join(``)):T.Buffer.concat(n,r)}catch(t){throw new F(`Could not create Buffer from response body for ${e.url}: ${t.message}`,`system`,t)}else throw new F(`Premature close of server response while trying to fetch ${e.url}`)}a(L,`consumeBody`);let Be=a((e,t)=>{let n,r,{body:i}=e[I];if(e.bodyUsed)throw Error(`cannot clone body after it is used`);return i instanceof k&&typeof i.getBoundary!=`function`&&(n=new w.PassThrough({highWaterMark:t}),r=new w.PassThrough({highWaterMark:t}),i.pipe(n),i.pipe(r),e[I].stream=n,i=r),i},`clone`),Ve=E.deprecate(e=>e.getBoundary(),`form-data doesn't follow the spec and requires special treatment. Use alternative package`,`https://github.com/node-fetch/node-fetch/issues/1167`),He=a((e,t)=>e===null?null:typeof e==`string`?`text/plain;charset=UTF-8`:Me(e)?`application/x-www-form-urlencoded;charset=UTF-8`:Ne(e)?e.type||null:T.Buffer.isBuffer(e)||E.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof P?`multipart/form-data; boundary=${t[I].boundary}`:e&&typeof e.getBoundary==`function`?`multipart/form-data;boundary=${Ve(e)}`:e instanceof k?null:`text/plain;charset=UTF-8`,`extractContentType`),Ue=a(e=>{let{body:t}=e[I];return t===null?0:Ne(t)?t.size:T.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync==`function`&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},`getTotalBytes`),We=a(async(e,{body:t})=>{t===null?e.end():await Le(t,e)},`writeToStream`),Ge=typeof se.validateHeaderName==`function`?se.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,`code`,{value:`ERR_INVALID_HTTP_TOKEN`}),t}},Ke=typeof se.validateHeaderValue==`function`?se.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let t=TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,`code`,{value:`ERR_INVALID_CHAR`}),t}},qe=class e extends URLSearchParams{constructor(t){let n=[];if(t instanceof e){let e=t.raw();for(let[t,r]of Object.entries(e))n.push(...r.map(e=>[t,e]))}else if(t!=null)if(typeof t==`object`&&!E.types.isBoxedPrimitive(t)){let e=t[Symbol.iterator];if(e==null)n.push(...Object.entries(t));else{if(typeof e!=`function`)throw TypeError(`Header pairs must be iterable`);n=[...t].map(e=>{if(typeof e!=`object`||E.types.isBoxedPrimitive(e))throw TypeError(`Each header pair must be an iterable object`);return[...e]}).map(e=>{if(e.length!==2)throw TypeError(`Each header pair must be a name/value tuple`);return[...e]})}}else throw TypeError(`Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)`);return n=n.length>0?n.map(([e,t])=>(Ge(e),Ke(e,String(t)),[String(e).toLowerCase(),String(t)])):void 0,super(n),new Proxy(this,{get(e,t,n){switch(t){case`append`:case`set`:return(n,r)=>(Ge(n),Ke(n,String(r)),URLSearchParams.prototype[t].call(e,String(n).toLowerCase(),String(r)));case`delete`:case`has`:case`getAll`:return n=>(Ge(n),URLSearchParams.prototype[t].call(e,String(n).toLowerCase()));case`keys`:return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,n)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){let t=this.getAll(e);if(t.length===0)return null;let n=t.join(`, `);return/^content-encoding$/i.test(e)&&(n=n.toLowerCase()),n}forEach(e,t=void 0){for(let n of this.keys())Reflect.apply(e,t,[this.get(n),n,this])}*values(){for(let e of this.keys())yield this.get(e)}*entries(){for(let e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((e,t)=>(e[t]=this.getAll(t),e),{})}[Symbol.for(`nodejs.util.inspect.custom`)](){return[...this.keys()].reduce((e,t)=>{let n=this.getAll(t);return t===`host`?e[t]=n[0]:e[t]=n.length>1?n:n[0],e},{})}};a(qe,`Headers`);let R=qe;Object.defineProperties(R.prototype,[`get`,`entries`,`forEach`,`values`].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function Je(e=[]){return new R(e.reduce((e,t,n,r)=>(n%2==0&&e.push(r.slice(n,n+2)),e),[]).filter(([e,t])=>{try{return Ge(e),Ke(e,String(t)),!0}catch{return!1}}))}a(Je,`fromRawHeaders`);let Ye=new Set([301,302,303,307,308]),Xe=a(e=>Ye.has(e),`isRedirect`),z=Symbol(`Response internals`),Ze=class e extends ze{constructor(e=null,t={}){super(e,t);let n=t.status==null?200:t.status,r=new R(t.headers);if(e!==null&&!r.has(`Content-Type`)){let t=He(e,this);t&&r.append(`Content-Type`,t)}this[z]={type:`default`,url:t.url,status:n,statusText:t.statusText||``,headers:r,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[z].type}get url(){return this[z].url||``}get status(){return this[z].status}get ok(){return this[z].status>=200&&this[z].status<300}get redirected(){return this[z].counter>0}get statusText(){return this[z].statusText}get headers(){return this[z].headers}get highWaterMark(){return this[z].highWaterMark}clone(){return new e(Be(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,n=302){if(!Xe(n))throw RangeError(`Failed to execute "redirect" on "response": Invalid status code`);return new e(null,{headers:{location:new URL(t).toString()},status:n})}static error(){let t=new e(null,{status:0,statusText:``});return t[z].type=`error`,t}static json(t=void 0,n={}){let r=JSON.stringify(t);if(r===void 0)throw TypeError(`data is not JSON serializable`);let i=new R(n&&n.headers);return i.has(`content-type`)||i.set(`content-type`,`application/json`),new e(r,{...n,headers:i})}get[Symbol.toStringTag](){return`Response`}};a(Ze,`Response`);let B=Ze;Object.defineProperties(B.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});let Qe=a(e=>{if(e.search)return e.search;let t=e.href.length-1,n=e.hash||(e.href[t]===`#`?`#`:``);return e.href[t-n.length]===`?`?`?`:``},`getSearch`);function V(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?`no-referrer`:(e.username=``,e.password=``,e.hash=``,t&&(e.pathname=``,e.search=``),e)}a(V,`stripURLForUseAsAReferrer`);let $e=new Set([``,`no-referrer`,`no-referrer-when-downgrade`,`same-origin`,`origin`,`strict-origin`,`origin-when-cross-origin`,`strict-origin-when-cross-origin`,`unsafe-url`]);function et(e){if(!$e.has(e))throw TypeError(`Invalid referrerPolicy: ${e}`);return e}a(et,`validateReferrerPolicy`);function tt(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,``),n=ie.isIP(t);return n===4&&/^127\./.test(t)||n===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:e.host===`localhost`||e.host.endsWith(`.localhost`)?!1:e.protocol===`file:`}a(tt,`isOriginPotentiallyTrustworthy`);function nt(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol===`data:`||/^(blob|filesystem):$/.test(e.protocol)?!0:tt(e)}a(nt,`isUrlPotentiallyTrustworthy`);function rt(e,{referrerURLCallback:t,referrerOriginCallback:n}={}){if(e.referrer===`no-referrer`||e.referrerPolicy===``)return null;let r=e.referrerPolicy;if(e.referrer===`about:client`)return`no-referrer`;let i=e.referrer,a=V(i),o=V(i,!0);a.toString().length>4096&&(a=o),t&&(a=t(a)),n&&(o=n(o));let s=new URL(e.url);switch(r){case`no-referrer`:return`no-referrer`;case`origin`:return o;case`unsafe-url`:return a;case`strict-origin`:return nt(a)&&!nt(s)?`no-referrer`:o.toString();case`strict-origin-when-cross-origin`:return a.origin===s.origin?a:nt(a)&&!nt(s)?`no-referrer`:o;case`same-origin`:return a.origin===s.origin?a:`no-referrer`;case`origin-when-cross-origin`:return a.origin===s.origin?a:o;case`no-referrer-when-downgrade`:return nt(a)&&!nt(s)?`no-referrer`:a;default:throw TypeError(`Invalid referrerPolicy: ${r}`)}}a(rt,`determineRequestsReferrer`);function it(e){let t=(e.get(`referrer-policy`)||``).split(/[,\s]+/),n=``;for(let e of t)e&&$e.has(e)&&(n=e);return n}a(it,`parseReferrerPolicyFromHeader`);let H=Symbol(`Request internals`),U=a(e=>typeof e==`object`&&typeof e[H]==`object`,`isRequest`),at=E.deprecate(()=>{},`.data is not a valid RequestInit property, use .body instead`,`https://github.com/node-fetch/node-fetch/issues/1000 (request)`),W=class e extends ze{constructor(e,t={}){let n;if(U(e)?n=new URL(e.url):(n=new URL(e),e={}),n.username!==``||n.password!==``)throw TypeError(`${n} is an url with embedded credentials.`);let r=t.method||e.method||`GET`;if(/^(delete|get|head|options|post|put)$/i.test(r)&&(r=r.toUpperCase()),!U(t)&&`data`in t&&at(),(t.body!=null||U(e)&&e.body!==null)&&(r===`GET`||r===`HEAD`))throw TypeError(`Request with GET/HEAD method cannot have body`);let i=t.body?t.body:U(e)&&e.body!==null?Be(e):null;super(i,{size:t.size||e.size||0});let a=new R(t.headers||e.headers||{});if(i!==null&&!a.has(`Content-Type`)){let e=He(i,this);e&&a.set(`Content-Type`,e)}let o=U(e)?e.signal:null;if(`signal`in t&&(o=t.signal),o!=null&&!Pe(o))throw TypeError(`Expected signal to be an instanceof AbortSignal or EventTarget`);let s=t.referrer==null?e.referrer:t.referrer;if(s===``)s=`no-referrer`;else if(s){let e=new URL(s);s=/^about:(\/\/)?client$/.test(e)?`client`:e}else s=void 0;this[H]={method:r,redirect:t.redirect||e.redirect||`follow`,headers:a,parsedURL:n,signal:o,referrer:s},this.follow=t.follow===void 0?e.follow===void 0?20:e.follow:t.follow,this.compress=t.compress===void 0?e.compress===void 0?!0:e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||``}get method(){return this[H].method}get url(){return re.format(this[H].parsedURL)}get headers(){return this[H].headers}get redirect(){return this[H].redirect}get signal(){return this[H].signal}get referrer(){if(this[H].referrer===`no-referrer`)return``;if(this[H].referrer===`client`)return`about:client`;if(this[H].referrer)return this[H].referrer.toString()}get referrerPolicy(){return this[H].referrerPolicy}set referrerPolicy(e){this[H].referrerPolicy=et(e)}clone(){return new e(this)}get[Symbol.toStringTag](){return`Request`}};a(W,`Request`);let ot=W;Object.defineProperties(ot.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});let st=a(e=>{let{parsedURL:t}=e[H],n=new R(e[H].headers);n.has(`Accept`)||n.set(`Accept`,`*/*`);let r=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(r=`0`),e.body!==null){let t=Ue(e);typeof t==`number`&&!Number.isNaN(t)&&(r=String(t))}r&&n.set(`Content-Length`,r),e.referrerPolicy===``&&(e.referrerPolicy=`strict-origin-when-cross-origin`),e.referrer&&e.referrer!==`no-referrer`?e[H].referrer=rt(e):e[H].referrer=`no-referrer`,e[H].referrer instanceof URL&&n.set(`Referer`,e.referrer),n.has(`User-Agent`)||n.set(`User-Agent`,`node-fetch`),e.compress&&!n.has(`Accept-Encoding`)&&n.set(`Accept-Encoding`,`gzip, deflate, br`);let{agent:i}=e;typeof i==`function`&&(i=i(t));let a=Qe(t),o={path:t.pathname+a,method:e.method,headers:n[Symbol.for(`nodejs.util.inspect.custom`)](),insecureHTTPParser:e.insecureHTTPParser,agent:i};return{parsedURL:t,options:o}},`getNodeRequestOptions`),ct=class extends ke{constructor(e,t=`aborted`){super(e,t)}};a(ct,`AbortError`);let lt=ct;
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */var ut,dt;function ft(){if(dt)return ut;if(dt=1,!globalThis.DOMException)try{let{MessageChannel:e}=require(`worker_threads`),t=new e().port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){e.constructor.name===`DOMException`&&(globalThis.DOMException=e.constructor)}return ut=globalThis.DOMException,ut}a(ft,`requireNodeDomexception`);var pt=ft();let mt=ne.getDefaultExportFromCjs(pt),{stat:ht}=D.promises,gt=a((e,t)=>bt(D.statSync(e),e,t),`blobFromSync`),_t=a((e,t)=>ht(e).then(n=>bt(n,e,t)),`blobFrom`),vt=a((e,t)=>ht(e).then(n=>xt(n,e,t)),`fileFrom`),yt=a((e,t)=>xt(D.statSync(e),e,t),`fileFromSync`),bt=a((e,t,n=``)=>new _e([new Ct({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:n}),`fromBlob`),xt=a((e,t,n=``)=>new ye([new Ct({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],ae.basename(t),{type:n,lastModified:e.mtimeMs}),`fromFile`),St=class e{constructor(e){c(this,b),c(this,x),l(this,b,e.path),l(this,x,e.start),this.size=e.size,this.lastModified=e.lastModified}slice(t,n){return new e({path:s(this,b),lastModified:this.lastModified,size:n-t,start:s(this,x)+t})}async*stream(){let{mtimeMs:e}=await ht(s(this,b));if(e>this.lastModified)throw new mt(`The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.`,`NotReadableError`);yield*D.createReadStream(s(this,b),{start:s(this,x),end:s(this,x)+this.size-1})}get[Symbol.toStringTag](){return`Blob`}};b=new WeakMap,x=new WeakMap,a(St,`BlobDataItem`);let Ct=St,wt=new Set([`data:`,`http:`,`https:`]);async function Tt(e,t){return new Promise((n,r)=>{let i=new ot(e,t),{parsedURL:o,options:s}=st(i);if(!wt.has(o.protocol))throw TypeError(`node-fetch cannot load ${e}. URL scheme "${o.protocol.replace(/:$/,``)}" is not supported.`);if(o.protocol===`data:`){let e=le(i.url),t=new B(e,{headers:{"Content-Type":e.typeFull}});n(t);return}let c=(o.protocol===`https:`?ce:se).request,{signal:l}=i,u=null,d=a(()=>{let e=new lt(`The operation was aborted.`);r(e),i.body&&i.body instanceof k.Readable&&i.body.destroy(e),!(!u||!u.body)&&u.body.emit(`error`,e)},`abort`);if(l&&l.aborted){d();return}let f=a(()=>{d(),m()},`abortAndFinalize`),p=c(o.toString(),s);l&&l.addEventListener(`abort`,f);let m=a(()=>{p.abort(),l&&l.removeEventListener(`abort`,f)},`finalize`);p.on(`error`,e=>{r(new F(`request to ${i.url} failed, reason: ${e.message}`,`system`,e)),m()}),Et(p,e=>{u&&u.body&&u.body.destroy(e)}),process.version<`v14`&&p.on(`socket`,e=>{let t;e.prependListener(`end`,()=>{t=e._eventsCount}),e.prependListener(`close`,n=>{if(u&&t<e._eventsCount&&!n){let e=Error(`Premature close`);e.code=`ERR_STREAM_PREMATURE_CLOSE`,u.body.emit(`error`,e)}})}),p.on(`response`,e=>{p.setTimeout(0);let a=Je(e.rawHeaders);if(Xe(e.statusCode)){let o=a.get(`Location`),s=null;try{s=o===null?null:new URL(o,i.url)}catch{if(i.redirect!==`manual`){r(new F(`uri requested responds with an invalid redirect URL: ${o}`,`invalid-redirect`)),m();return}}switch(i.redirect){case`error`:r(new F(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,`no-redirect`)),m();return;case`manual`:break;case`follow`:{if(s===null)break;if(i.counter>=i.follow){r(new F(`maximum redirect reached at: ${i.url}`,`max-redirect`)),m();return}let o={headers:new R(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Be(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!Fe(i.url,s)||!Ie(i.url,s))for(let e of[`authorization`,`www-authenticate`,`cookie`,`cookie2`])o.headers.delete(e);if(e.statusCode!==303&&i.body&&t.body instanceof k.Readable){r(new F(`Cannot follow redirect with body being a readable stream`,`unsupported-redirect`)),m();return}(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&i.method===`POST`)&&(o.method=`GET`,o.body=void 0,o.headers.delete(`content-length`));let c=it(a);c&&(o.referrerPolicy=c),n(Tt(new ot(s,o))),m();return}default:return r(TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}l&&e.once(`end`,()=>{l.removeEventListener(`abort`,f)});let o=w.pipeline(e,new w.PassThrough,e=>{e&&r(e)});process.version<`v12.10`&&e.on(`aborted`,f);let s={url:i.url,status:e.statusCode,statusText:e.statusMessage,headers:a,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},c=a.get(`Content-Encoding`);if(!i.compress||i.method===`HEAD`||c===null||e.statusCode===204||e.statusCode===304){u=new B(o,s),n(u);return}let d={flush:O.Z_SYNC_FLUSH,finishFlush:O.Z_SYNC_FLUSH};if(c===`gzip`||c===`x-gzip`){o=w.pipeline(o,O.createGunzip(d),e=>{e&&r(e)}),u=new B(o,s),n(u);return}if(c===`deflate`||c===`x-deflate`){let t=w.pipeline(e,new w.PassThrough,e=>{e&&r(e)});t.once(`data`,e=>{o=(e[0]&15)==8?w.pipeline(o,O.createInflate(),e=>{e&&r(e)}):w.pipeline(o,O.createInflateRaw(),e=>{e&&r(e)}),u=new B(o,s),n(u)}),t.once(`end`,()=>{u||(u=new B(o,s),n(u))});return}if(c===`br`){o=w.pipeline(o,O.createBrotliDecompress(),e=>{e&&r(e)}),u=new B(o,s),n(u);return}u=new B(o,s),n(u)}),We(p,i).catch(r)})}a(Tt,`fetch$1`);function Et(e,t){let n=T.Buffer.from(`0\r
\r
`),r=!1,i=!1,o;e.on(`response`,e=>{let{headers:t}=e;r=t[`transfer-encoding`]===`chunked`&&!t[`content-length`]}),e.on(`socket`,s=>{let c=a(()=>{if(r&&!i){let e=Error(`Premature close`);e.code=`ERR_STREAM_PREMATURE_CLOSE`,t(e)}},`onSocketClose`),l=a(e=>{i=T.Buffer.compare(e.slice(-5),n)===0,!i&&o&&(i=T.Buffer.compare(o.slice(-3),n.slice(0,3))===0&&T.Buffer.compare(e.slice(-2),n.slice(3))===0),o=e},`onData`);s.prependListener(`close`,c),s.on(`data`,l),e.on(`close`,()=>{s.removeListener(`close`,c),s.removeListener(`data`,l)})})}a(Et,`fixResponseChunkedTransferBadEnding`);let G=new WeakMap,Dt=new WeakMap;function K(e){let t=G.get(e);return console.assert(t!=null,`'this' is expected an Event object, but got`,e),t}a(K,`pd`);function Ot(e){if(e.passiveListener!=null){typeof console<`u`&&typeof console.error==`function`&&console.error(`Unable to preventDefault inside passive event listener invocation.`,e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,typeof e.event.preventDefault==`function`&&e.event.preventDefault())}a(Ot,`setCancelFlag`);function q(e,t){G.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,`isTrusted`,{value:!1,enumerable:!0});let n=Object.keys(t);for(let e=0;e<n.length;++e){let t=n[e];t in this||Object.defineProperty(this,t,kt(t))}}a(q,`Event`),q.prototype={get type(){return K(this).event.type},get target(){return K(this).eventTarget},get currentTarget(){return K(this).currentTarget},composedPath(){let e=K(this).currentTarget;return e==null?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return K(this).eventPhase},stopPropagation(){let e=K(this);e.stopped=!0,typeof e.event.stopPropagation==`function`&&e.event.stopPropagation()},stopImmediatePropagation(){let e=K(this);e.stopped=!0,e.immediateStopped=!0,typeof e.event.stopImmediatePropagation==`function`&&e.event.stopImmediatePropagation()},get bubbles(){return!!K(this).event.bubbles},get cancelable(){return!!K(this).event.cancelable},preventDefault(){Ot(K(this))},get defaultPrevented(){return K(this).canceled},get composed(){return!!K(this).event.composed},get timeStamp(){return K(this).timeStamp},get srcElement(){return K(this).eventTarget},get cancelBubble(){return K(this).stopped},set cancelBubble(e){if(!e)return;let t=K(this);t.stopped=!0,typeof t.event.cancelBubble==`boolean`&&(t.event.cancelBubble=!0)},get returnValue(){return!K(this).canceled},set returnValue(e){e||Ot(K(this))},initEvent(){}},Object.defineProperty(q.prototype,`constructor`,{value:q,configurable:!0,writable:!0}),typeof window<`u`&&typeof window.Event<`u`&&(Object.setPrototypeOf(q.prototype,window.Event.prototype),Dt.set(window.Event.prototype,q));function kt(e){return{get(){return K(this).event[e]},set(t){K(this).event[e]=t},configurable:!0,enumerable:!0}}a(kt,`defineRedirectDescriptor`);function At(e){return{value(){let t=K(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}a(At,`defineCallDescriptor`);function jt(e,t){let n=Object.keys(t);if(n.length===0)return e;function r(t,n){e.call(this,t,n)}a(r,`CustomEvent`),r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let i=0;i<n.length;++i){let a=n[i];if(!(a in e.prototype)){let e=typeof Object.getOwnPropertyDescriptor(t,a).value==`function`;Object.defineProperty(r.prototype,a,e?At(a):kt(a))}}return r}a(jt,`defineWrapper`);function Mt(e){if(e==null||e===Object.prototype)return q;let t=Dt.get(e);return t??(t=jt(Mt(Object.getPrototypeOf(e)),e),Dt.set(e,t)),t}a(Mt,`getWrapper`);function Nt(e,t){let n=Mt(Object.getPrototypeOf(t));return new n(e,t)}a(Nt,`wrapEvent`);function Pt(e){return K(e).immediateStopped}a(Pt,`isStopped`);function Ft(e,t){K(e).eventPhase=t}a(Ft,`setEventPhase`);function It(e,t){K(e).currentTarget=t}a(It,`setCurrentTarget`);function Lt(e,t){K(e).passiveListener=t}a(Lt,`setPassiveListener`);let Rt=new WeakMap;function zt(e){return typeof e==`object`&&!!e}a(zt,`isObject`);function Bt(e){let t=Rt.get(e);if(t==null)throw TypeError(`'this' is expected an EventTarget object, but got another value.`);return t}a(Bt,`getListeners`);function Vt(e){return{get(){let t=Bt(this).get(e);for(;t!=null;){if(t.listenerType===3)return t.listener;t=t.next}return null},set(t){typeof t!=`function`&&!zt(t)&&(t=null);let n=Bt(this),r=null,i=n.get(e);for(;i!=null;)i.listenerType===3?r===null?i.next===null?n.delete(e):n.set(e,i.next):r.next=i.next:r=i,i=i.next;if(t!==null){let i={listener:t,listenerType:3,passive:!1,once:!1,next:null};r===null?n.set(e,i):r.next=i}},configurable:!0,enumerable:!0}}a(Vt,`defineEventAttributeDescriptor`);function Ht(e,t){Object.defineProperty(e,`on${t}`,Vt(t))}a(Ht,`defineEventAttribute`);function Ut(e){function t(){J.call(this)}a(t,`CustomEventTarget`),t.prototype=Object.create(J.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)Ht(t.prototype,e[n]);return t}a(Ut,`defineCustomEventTarget`);function J(){if(this instanceof J){Rt.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return Ut(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return Ut(e)}throw TypeError(`Cannot call a class as a function`)}a(J,`EventTarget`),J.prototype={addEventListener(e,t,n){if(t==null)return;if(typeof t!=`function`&&!zt(t))throw TypeError(`'listener' should be a function or an object.`);let r=Bt(this),i=zt(n),a=(i?n.capture:n)?1:2,o={listener:t,listenerType:a,passive:i&&!!n.passive,once:i&&!!n.once,next:null},s=r.get(e);if(s===void 0){r.set(e,o);return}let c=null;for(;s!=null;){if(s.listener===t&&s.listenerType===a)return;c=s,s=s.next}c.next=o},removeEventListener(e,t,n){if(t==null)return;let r=Bt(this),i=(zt(n)?n.capture:n)?1:2,a=null,o=r.get(e);for(;o!=null;){if(o.listener===t&&o.listenerType===i){a===null?o.next===null?r.delete(e):r.set(e,o.next):a.next=o.next;return}a=o,o=o.next}},dispatchEvent(e){if(e==null||typeof e.type!=`string`)throw TypeError(`"event.type" should be a string.`);let t=Bt(this),n=e.type,r=t.get(n);if(r==null)return!0;let i=Nt(this,e),a=null;for(;r!=null;){if(r.once?a===null?r.next===null?t.delete(n):t.set(n,r.next):a.next=r.next:a=r,Lt(i,r.passive?r.listener:null),typeof r.listener==`function`)try{r.listener.call(this,i)}catch(e){typeof console<`u`&&typeof console.error==`function`&&console.error(e)}else r.listenerType!==3&&typeof r.listener.handleEvent==`function`&&r.listener.handleEvent(i);if(Pt(i))break;r=r.next}return Lt(i,null),Ft(i,0),It(i,null),!i.defaultPrevented}},Object.defineProperty(J.prototype,`constructor`,{value:J,configurable:!0,writable:!0}),typeof window<`u`&&typeof window.EventTarget<`u`&&Object.setPrototypeOf(J.prototype,window.EventTarget.prototype);let Y=class extends J{constructor(){throw super(),TypeError(`AbortSignal cannot be constructed directly`)}get aborted(){let e=qt.get(this);if(typeof e!=`boolean`)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?`null`:typeof this}`);return e}};a(Y,`AbortSignal`);let Wt=Y;Ht(Wt.prototype,`abort`);function Gt(){let e=Object.create(Wt.prototype);return J.call(e),qt.set(e,!1),e}a(Gt,`createAbortSignal`);function Kt(e){qt.get(e)===!1&&(qt.set(e,!0),e.dispatchEvent({type:`abort`}))}a(Kt,`abortSignal`);let qt=new WeakMap;Object.defineProperties(Wt.prototype,{aborted:{enumerable:!0}}),typeof Symbol==`function`&&typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Wt.prototype,Symbol.toStringTag,{configurable:!0,value:`AbortSignal`});let Jt=(S=class{constructor(){Yt.set(this,Gt())}get signal(){return Xt(this)}abort(){Kt(Xt(this))}},a(S,`AbortController`),S),Yt=new WeakMap;function Xt(e){let t=Yt.get(e);if(t==null)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${e===null?`null`:typeof e}`);return t}a(Xt,`getSignal`),Object.defineProperties(Jt.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),typeof Symbol==`function`&&typeof Symbol.toStringTag==`symbol`&&Object.defineProperty(Jt.prototype,Symbol.toStringTag,{configurable:!0,value:`AbortController`});var Zt=Object.defineProperty,Qt=a((e,t)=>Zt(e,`name`,{value:t,configurable:!0}),`e`);let $t=Tt;en();function en(){!globalThis.process?.versions?.node&&!globalThis.process?.env?.DISABLE_NODE_FETCH_NATIVE_WARN&&console.warn("[node-fetch-native] Node.js compatible build of `node-fetch-native` is being used in a non-Node.js environment. Please make sure you are using proper export conditions or report this issue to https://github.com/unjs/node-fetch-native. You can set `process.env.DISABLE_NODE_FETCH_NATIVE_WARN` to disable this warning.")}a(en,`s`),Qt(en,`checkNodeEnvironment`),exports.AbortController=Jt,exports.AbortError=lt,exports.Blob=_e,exports.FetchError=F,exports.File=ye,exports.FormData=P,exports.Headers=R,exports.Request=ot,exports.Response=B,exports.blobFrom=_t,exports.blobFromSync=gt,exports.default=$t,exports.fetch=$t,exports.fileFrom=vt,exports.fileFromSync=yt,exports.isRedirect=Xe}));Object.defineProperty(exports,`require_node`,{enumerable:!0,get:function(){return n}}),Object.defineProperty(exports,`require_node_fetch_native_DhEqb06g`,{enumerable:!0,get:function(){return t}});
//# sourceMappingURL=node-BoVVkXIM.js.map